<!doctype html>
<html lang="en">
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-76367732-7"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-76367732-7');
    </script>

    <meta charset="utf-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="BG Database is a in-game data management system for Unity3D game engine">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    
    <title>BansheeGz</title>

    <!-- Page styles -->
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="../../../css/font-awesome.min.css">
    <link rel="stylesheet" href="https://code.getmdl.io/1.2.1/material.min.css">

    <link rel="stylesheet" href="../../../css/main.css">
    <link rel="stylesheet" href="../../../css/page.css">

    <link rel="icon" type="image/png" href="../../../images/BGIcon.png"/>
</head>
<body>


<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>-->
<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>

<style>
    #aBox a {
        color: white;
        font: 15px Helvetica, Arial, Sans-Serif;
    }

    #bg-navigation a {
        background-position: 50px;
    }
</style>


<script>
    function writeEmail(whom, at) {
        document.write("<a href='mail" + "to:" + whom + "@" + at + "'>" + whom + "@" + at + "</a>");
    }
</script>

<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">

    <!--======================================================       Root  Header               -->
    <div class="bg-header mdl-layout__header mdl-layout__header--waterfall">
        <div class="mdl-layout__header-row" id="header">
          <span style="margin-left: -40px;">
              <a class="bg-header-a" href="/"><img src="../../../images/BGIconBig.png"></a>
          </span>
            <!-- Add spacer, to align navigation to the right in desktop -->
            <div class="mdl-layout-spacer"></div>
            <!-- Navigation -->
            <div class="bg-navigation-bag" id="bg-navigation">
                <nav class="bg-navigation mdl-navigation">
                    <a class="mdl-navigation__link mdl-typography--text-uppercase bg-navigation_link_active"
                       href="../../../BGDatabase">BG`Database</a>
                    <a class="mdl-navigation__link mdl-typography--text-uppercase "
                       href="../../../BGLocalization">BG`Localization</a>
                    <a class="mdl-navigation__link mdl-typography--text-uppercase "
                       href="../../../BGCurve">BG`Curve</a>
<!--                    <a class="mdl-navigation__link mdl-typography&#45;&#45;text-uppercase "-->
<!--                       href="../../../BGCurve/BGSplineColliders">BG`Spline_Colliders</a>-->
                    <a class="mdl-navigation__link mdl-typography--text-uppercase "
                       href="../../../Blog">Blog</a>
                    <a class="mdl-navigation__link mdl-typography--text-uppercase "
                       href="../../../Support">Support</a>
                </nav>
            </div>
            <button class="bg-menu-mobile mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect"
                    id="more-button">
                <i class="material-icons">more_vert</i>
            </button>
            <ul class="bg-menusub-mobile mdl-menu mdl-js-menu mdl-menu--bottom-right mdl-js-ripple-effect"
                for="more-button">
                <li class="mdl-menu__item"><a href="../../../BGDatabase">BG Database</a></li>
                <li class="mdl-menu__item"><a href="../../../BGLocalization">BG Localization</a></li>
                <li class="mdl-menu__item"><a href="../../../BGCurve">BG Curve</a></li>
                <li class="mdl-menu__item"><a href="../../../Support">Support</a></li>
                <li class="mdl-menu__item"><a href="../../../About">About Us</a></li>
            </ul>
        </div>
    </div>

    <!--
        <div style="min-height: 5px;background-color: #CCCCCC"></div>
        <div id="aBox" style="background-color: #ff69b4;height: 20px;color: white;text-align: center;">
            <b>
                Announcement: <a href="../../../BGDatabase"><b>BG Database</b></a> v. 1.1 is out!
        </b>
    </div>
    -->

    <div class="mdl-layout__content">
        <a name="top"></a>

        <!--======================================================        Content (from Root)              -->
        




<link rel="stylesheet" href="../../../css/bgdatabase.css">
<link rel="stylesheet" href="../../../css/magnific-popup.css">
<script src="../../../js/jquery.magnific-popup.min.js"></script>

<script>
    $(document).ready(function () {
        $('.bg-image').magnificPopup({
            delegate: 'a',
            type: 'image',
//            gallery:{enabled:true},
            closeOnContentClick: true
        });
    });
</script>

<!--======================================================       BG Database Header               -->


<div class="mdl-grid">
    <div class="mdl-cell mdl-cell--3-col mdl-cell--2-col-tablet mdl-cell--hide-phone bg-sm  mdl-shadow--3dp">
        <ul id="leftmenu">
            <li class="pli databaseicon ">
                <a class="pa" href="../../../BGDatabase">BG Database Home</a>
                <ul>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Setup">Setup</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/HowToUse">How to use</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/GUIOverview">GUI Overview</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/CodeExamples">Code Examples</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Videos">Videos</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/SupportedFields">Field types</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/ExportImport">Export Import</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/DataBinding">Data Binding</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/MergeTool">Merge Tool</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Misc">Misc</a>
                    </li>
                    <li class="cli downloadicon ">
                        <a class="ca" href="../../../BGDatabase/Downloads">Downloads</a>
                    </li>
                </ul>
            </li>
            <li class="pli ">
                <a class="pa " href="../../../BGDatabase/CodeGeneration">Code Generation</a>
                <ul>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/CodeGeneration/ExtensionClasses">Extension Classes</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/CodeGeneration/MonoBehaviourClasses">MonoBehavior Classes</a>
                    </li>
<!--
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/CodeGeneration/DnaClasses">Dna Classes</a>
                    </li>
-->
                </ul>
            </li>
            <li class="pli ">
                <a class="pa " href="../../../BGDatabase/ThirdParty">Third-Party Integration</a>
                <ul>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/ThirdParty/Excel">Excel</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/ThirdParty/GoogleSheets">Google Sheets</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/ThirdParty/Playmaker">Playmaker</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/ThirdParty/Bolt">Bolt</a>
                    </li>
                </ul>
            </li>
            <li class="pli ">
                <a class="pa " href="../../../BGDatabase/Addons">Addons</a>
                <ul>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Addons/SaveLoad">Save Load</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Addons/CodeGeneration">Code Generation</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Addons/LazyLoad">Lazy Load</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Addons/LiveUpdate">Live Update</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Addons/Multithreading">Multithreading</a>
                    </li>
                    <li class="cli  plic ">
                        <a class="ca" href="../../../BGDatabase/Addons/Modding">Modding</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Addons/Settings">Settings</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Addons/Localization">Localization</a>
                    </li>
                </ul>
            </li>
            <li class="pli ">
                <a class="pa " href="../../../BGDatabase/API">API</a>
                <ul>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/API/BGRepo">BGRepo</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/API/BGMetaEntity">BGMetaEntity</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/API/BGEntity">BGEntity</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/API/BGField">BGField</a>
                    </li>
                </ul>
            </li>
        </ul>
    </div>
    <div class="mdl-cell--hide-desktop mdl-cell--hide-tablet mdl-cell--4-col-phone">
        <a class="pa" href="../../../BGDatabase">BG BGDatabase Home</a>
        <a class="pa" href="../../../BGDatabase/Setup">Setup</a>
        <a class="pa" href="../../../BGDatabase/HowToUse">How To Use</a>
        <a class="pa" href="../../../BGDatabase/Videos">Videos</a>
        <a class="pa" href="../../../BGDatabase/ExampleBreakdown">Example Breakdown</a>
        <a class="pa" href="../../../BGDatabase/SupportedFields">Fields</a>
        <a class="pa" href="../../../BGDatabase/ExportImport">Export Import</a>
        <a class="pa" href="../../../BGDatabase/DataBinding">Data Binding</a>
        <a class="pa" href="../../../BGDatabase/Events">Events</a>
        <a class="pa" href="../../../BGDatabase/CodeGeneration">Code Generation</a>
        <a class="pa" href="../../../BGDatabase/Addons">Addons</a>
    </div>
    <div class="mdl-cell mdl-cell--9-col mdl-cell--6-col-tablet mdl-cell--3-col-phone">
        <div class="bg-main mdl-shadow--3dp">
            <div class="bg-main-title">
                <h3>Modding</h3>
            </div>

            <!--======================================================        BG Database Content              -->
            <div id="content">
            

<style>

    .green {
        background-color: #eefadd !important;
    }

    .red {
        background-color: #f8d2dc !important;
    }
</style>
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=cs&amp;skin=desert"></script>

<h4>Description</h4>
<p>
    "Modding" addon let you modify default database at runtime after it's loaded (BGDatabase version >= 1.5.5 is required).
    The main objective is to add support for mods. Localization addon is not supported.
</p>

<h4>Available methods for modifying database</h4>
<ol>
    <li>By creating and applying "delta" files (recommended)</li>
    <li>By changing database using C# API (see examples below)</li>
</ol>

<h4>"Delta" files general concept</h4>
<p>
    The database, shipped with a game/app, is readonly and represents the world state at the beginning of the game.
    Modders can not change this database directly, but they can create a "delta" files, which modifies this database after it was loaded at runtime.
    All operations are supported (adding/modifying/deleting)
</p>
<div class="bg-image">
    <a href="../../../images/BGDatabase/ModdingAddon1.png"><img style="width: 400px" src="../../../images/BGDatabase/ModdingAddon1.png"></a>
</div>

<h4>"Delta" files creation guide</h4>
<p>
    Modders can create delta files using our free <a href="../../Downloads/BGDatabaseLite">BGDatabaseLite package</a>.
    How to create:
</p>
<ol>
    <li>Make sure the current database is the database you want to modify (Settings->Main)</li>
    <li>
        Enable "delta" mode in Settings->Delta mode
        <div class="bg-image">
            <a href="../../../images/BGDatabase/ModdingAddon2.png"><img style="width: 400px" src="../../../images/BGDatabase/ModdingAddon2.png"></a>
        </div>
    </li>
    <li>Once you enabled delta mode, you'll see "Delta mode on" indicator at the toolbar.
        From now on, all changes you do to the database will be saved to "delta" file and default database will remain readonly.
        Also, there will be visual feedback which rows was changed/added and additional filter will be added to the toolbar
        <div class="bg-image">
            <a href="../../../images/BGDatabase/ModdingAddon3.png"><img style="width: 400px" src="../../../images/BGDatabase/ModdingAddon3.png"></a>
        </div>
    </li>
    <li>
        You can remove rows from default database and use delta filter's "D"(deleted) button to review them and "Revert" button to restore them.
        Be very cautious while removing rows from default database, cause game's code may assume the rows exists and may breaks with errors if you remove them.
        <div class="bg-image">
            <a href="../../../images/BGDatabase/ModdingAddon4.png"><img style="width: 400px" src="../../../images/BGDatabase/ModdingAddon4.png"></a>
        </div>
    </li>
    <li>
        Note, the delta mode is on only when play mode is off.
        Once you press Play in Editor default database will be loaded and delta mode will be off.
        This is done to simulate real behaviour during runtime.
        Read next section to learn how to load "delta" files at runtime.
    </li>
</ol>

<h4>Applying changes to database at runtime</h4>
<p>
    To apply changes at runtime you need to enable Modding addon and create C# class, extending from BGAddonModding.ModdingSourceDefault class.
    Override <code>Deltas</code> property to provide your own delta files content.
</p>
<p>
    Here is an example:
</p>
<pre class="prettyprint">
using UnityEngine;
using BansheeGz.BGDatabase;

    //you can modify database after loading by creating a class,
    //which extends from BGAddonModding.ModdingSourceDefault class
    public class ModdingSource : BGAddonModding.ModdingSourceDefault
    {
        //Override Deltas property to provide Delta files.
        //In our case, we read delta file from bgdatabase_delta.bytes file,
        //located at Resources folder
        public override BGRepoDelta[] Deltas
        {
            get { return new[] {new BGRepoDelta(Resources.Load&lt;TextAsset&gt;("bgdatabase_delta").bytes),}; }
        }
    }
</pre>
<p>
    Another example, which scans StreamingAssets folder recursively and returns every single file, which name is bgdatabase_delta.bytes:
</p>
<pre class="prettyprint">
using System.IO;
using System.Linq;
using BansheeGz.BGDatabase;
using UnityEngine;

public class ModdingSource : BGAddonModding.ModdingSourceDefault
{
    public override BGRepoDelta[] Deltas
    {
        get
        {
            var files = Directory.GetFiles(Application.streamingAssetsPath, "bgdatabase_delta.bytes", SearchOption.AllDirectories);
            return files.Select(file => new BGRepoDelta(File.ReadAllBytes(file))).ToArray();
        }
    }
}
</pre>


<h4>Data protection [WIP]</h4>
<p>
    Data protection is declarative way to mark the data you do not want to be modified.
    Turn "Data protection" parameter on to enable it.
    Table/field/row/cell level rules are available.
    These rules take effect when "Delta mode" is on
</p>
<table class="contentTable">
    <tr>
        <th rowspan="2">Rule level</th>
        <th colspan="3">
            Rule type
        </th>
    </tr>
    <tr>
        <th>Add</th>
        <th>Delete</th>
        <th>Edit</th>
    </tr>
    <tr>
        <td>Table (meta)</td>
        <td class="green">yes</td>
        <td class="green">yes</td>
        <td class="green">yes</td>
    </tr>
    <tr>
        <td>Field</td>
        <td class="red">no</td>
        <td class="red">no</td>
        <td class="green">yes</td>
    </tr>
    <tr>
        <td>Row (entity)</td>
        <td class="red">no</td>
        <td class="green">yes</td>
        <td class="green">yes</td>
    </tr>
    <tr>
        <td>Cell</td>
        <td class="red">no</td>
        <td class="red">no</td>
        <td class="green">yes</td>
    </tr>
</table>

<h5>Meta-level rules</h5>
<p>
    These rules can be assigned at addon page.
    They affect the whole table but they have the lowest priority and can be overridden (except Add disabled rule)
</p>
<div class="bg-image">
    <a href="../../../images/BGDatabase/ModdingAddon5.png"><img style="width: 400px" src="../../../images/BGDatabase/ModdingAddon5.png"></a>
</div>

<h5>Field-level rules</h5>
<p>
    These rules can be assigned at addon page.
    They affect single field and determine if this field can be edited.
    "high" suffix means, the rules have higher priority than rows rules
</p>
<div class="bg-image">
    <a href="../../../images/BGDatabase/ModdingAddon6.png"><img style="width: 400px" src="../../../images/BGDatabase/ModdingAddon6.png"></a>
</div>
<h5>Rows-level rules</h5>
<p>
    Rows-level rules can be assigned under "Database" tab (you need to turn on Data protection mode)
    You can define which rows can be edited and which rows can be deleted.
</p>
<div class="bg-image">
    <a href="../../../images/BGDatabase/ModdingAddon7.png"><img style="width: 400px" src="../../../images/BGDatabase/ModdingAddon7.png"></a>
</div>
<h5>Cell-level rules</h5>
<p>
    Cell-level rules can be assigned under "Database" tab (you need to turn on Data protection mode)
    These rules have highest priority and affect single cells.
    Choose paint brush type (enabled/disabled/clear) and click over a cell to assign/clear rule
</p>
<div class="bg-image">
    <a href="../../../images/BGDatabase/ModdingAddon8.png"><img style="width: 400px" src="../../../images/BGDatabase/ModdingAddon8.png"></a>
</div>

<h5>How rules are applied</h5>
<ol>
    <li>In Editor when delta mode is on.</li>
    <li>At runtime when delta files are merged with main database</li>
</ol>
<div class="bg-image">
    <a href="../../../images/BGDatabase/ModdingAddon9.png"><img style="width: 400px" src="../../../images/BGDatabase/ModdingAddon9.png"></a>
</div>

<h4>Parameters</h4>
<table class="contentTable">
    <tr>
        <th>
            Parameter name
        </th>
        <th>
            Description
        </th>
    </tr>
    <tr>
        <td>In builds only</td>
        <td>
            Modding addon will be ignored if application is running inside Unity Editor
        </td>
    </tr>
    <tr>
        <td>Data protection</td>
        <td>
            turn it on to enable data protection
        </td>
    </tr>
</table>
            </div>

            <!--======================================================       BG Database Footer               -->
        </div>

    </div>
</div>



        <!--======================================================      Root Footer               -->
        <footer class="bg-footer mdl-mega-footer" style="clear:both;">
            <div class="mdl-mega-footer--top-section">
                <div class="mdl-mega-footer--middle-section bg-footer-email">
                    <table>
                        <tr>
                            <td>
                                <script language="JavaScript">
                                    writeEmail("support", "bansheegz.com")
                                </script>
                            </td>
                            <td>
                                or
                            </td>
                            <td>
                                <script language="JavaScript">
                                    writeEmail("admin", "bansheegz.com")
                                </script>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
            <div style="text-align: center">
                <div id="share" style="display: inline-block;"></div>
            </div>
        </footer>
    </div>
</div>


</div>

<script defer src="https://code.getmdl.io/1.2.1/material.min.js"></script>

</body>
</html>
