<!doctype html>
<html lang="en">
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-76367732-7"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-76367732-7');
    </script>

    <meta charset="utf-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="BG Database is a in-game data management system for Unity3D game engine">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    
    <title>BansheeGz</title>

    <!-- Page styles -->
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="../../../css/font-awesome.min.css">
    <link rel="stylesheet" href="https://code.getmdl.io/1.2.1/material.min.css">

    <link rel="stylesheet" href="../../../css/main.css">
    <link rel="stylesheet" href="../../../css/page.css">

    <link rel="icon" type="image/png" href="../../../images/BGIcon.png"/>
</head>
<body>


<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>-->
<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>

<style>
    #aBox a {
        color: white;
        font: 15px Helvetica, Arial, Sans-Serif;
    }

    #bg-navigation a {
        background-position: 50px;
    }
</style>


<script>
    function writeEmail(whom, at) {
        document.write("<a href='mail" + "to:" + whom + "@" + at + "'>" + whom + "@" + at + "</a>");
    }
</script>

<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">

    <!--======================================================       Root  Header               -->
    <div class="bg-header mdl-layout__header mdl-layout__header--waterfall">
        <div class="mdl-layout__header-row" id="header">
          <span style="margin-left: -40px;">
              <a class="bg-header-a" href="/"><img src="../../../images/BGIconBig.png"></a>
          </span>
            <!-- Add spacer, to align navigation to the right in desktop -->
            <div class="mdl-layout-spacer"></div>
            <!-- Navigation -->
            <div class="bg-navigation-bag" id="bg-navigation">
                <nav class="bg-navigation mdl-navigation">
                    <a class="mdl-navigation__link mdl-typography--text-uppercase bg-navigation_link_active"
                       href="../../../BGDatabase">BG`Database</a>
                    <a class="mdl-navigation__link mdl-typography--text-uppercase "
                       href="../../../BGLocalization">BG`Localization</a>
                    <a class="mdl-navigation__link mdl-typography--text-uppercase "
                       href="../../../BGCurve">BG`Curve</a>
<!--                    <a class="mdl-navigation__link mdl-typography&#45;&#45;text-uppercase "-->
<!--                       href="../../../BGCurve/BGSplineColliders">BG`Spline_Colliders</a>-->
                    <a class="mdl-navigation__link mdl-typography--text-uppercase "
                       href="../../../Blog">Blog</a>
                    <a class="mdl-navigation__link mdl-typography--text-uppercase "
                       href="../../../Support">Support</a>
                </nav>
            </div>
            <button class="bg-menu-mobile mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect"
                    id="more-button">
                <i class="material-icons">more_vert</i>
            </button>
            <ul class="bg-menusub-mobile mdl-menu mdl-js-menu mdl-menu--bottom-right mdl-js-ripple-effect"
                for="more-button">
                <li class="mdl-menu__item"><a href="../../../BGDatabase">BG Database</a></li>
                <li class="mdl-menu__item"><a href="../../../BGLocalization">BG Localization</a></li>
                <li class="mdl-menu__item"><a href="../../../BGCurve">BG Curve</a></li>
                <li class="mdl-menu__item"><a href="../../../Support">Support</a></li>
                <li class="mdl-menu__item"><a href="../../../About">About Us</a></li>
            </ul>
        </div>
    </div>

    <!--
        <div style="min-height: 5px;background-color: #CCCCCC"></div>
        <div id="aBox" style="background-color: #ff69b4;height: 20px;color: white;text-align: center;">
            <b>
                Announcement: <a href="../../../BGDatabase"><b>BG Database</b></a> v. 1.1 is out!
        </b>
    </div>
    -->

    <div class="mdl-layout__content">
        <a name="top"></a>

        <!--======================================================        Content (from Root)              -->
        




<link rel="stylesheet" href="../../../css/bgdatabase.css">
<link rel="stylesheet" href="../../../css/magnific-popup.css">
<script src="../../../js/jquery.magnific-popup.min.js"></script>

<script>
    $(document).ready(function () {
        $('.bg-image').magnificPopup({
            delegate: 'a',
            type: 'image',
//            gallery:{enabled:true},
            closeOnContentClick: true
        });
    });
</script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/rainbow.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<!--======================================================       BG Database Header               -->


<div class="mdl-grid">
    <div class="mdl-cell mdl-cell--3-col mdl-cell--2-col-tablet mdl-cell--hide-phone bg-sm  mdl-shadow--3dp">
        <ul id="leftmenu">
            <li class="pli databaseicon ">
                <a class="pa" href="../../../BGDatabase">BG Database Home</a>
                <ul>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Setup">Setup</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/HowToUse">How to use</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/GUIOverview">GUI Overview</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/CodeExamples">Code Examples</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Videos">Videos</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/SupportedFields">Field types</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/ExportImport">Export Import</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/DataBinding">Data Binding</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/MergeTool">Merge Tool</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Misc">Misc</a>
                    </li>
                    <li class="cli downloadicon ">
                        <a class="ca" href="../../../BGDatabase/Downloads">Downloads</a>
                    </li>
                </ul>
            </li>
            <li class="pli ">
                <a class="pa " href="../../../BGDatabase/CodeGeneration">Code Generation</a>
                <ul>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/CodeGeneration/ExtensionClasses">Extension Classes</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/CodeGeneration/MonoBehaviourClasses">MonoBehavior Classes</a>
                    </li>
<!--
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/CodeGeneration/DnaClasses">Dna Classes</a>
                    </li>
-->
                </ul>
            </li>
            <li class="pli ">
                <a class="pa " href="../../../BGDatabase/ThirdParty">Third-Party Integration</a>
                <ul>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/ThirdParty/Excel">Excel</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/ThirdParty/GoogleSheets">Google Sheets</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/ThirdParty/Bolt">Unity Visual Scripting (ex-Bolt)</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/ThirdParty/Playmaker">Playmaker</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/ThirdParty/FlowCanvas">Flow Canvas</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/ThirdParty/GameCreator">Game Creator</a>
                    </li>
                </ul>
            </li>
            <li class="pli ">
                <a class="pa " href="../../../BGDatabase/Addons">Addons</a>
                <ul>
                    <li class="cli  plic ">
                        <a class="ca" href="../../../BGDatabase/Addons/SaveLoad">Save Load</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Addons/CodeGeneration">Code Generation</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Addons/LazyLoad">Lazy Load</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Addons/LiveUpdate">Live Update</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Addons/Multithreading">Multithreading</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Addons/Modding">Modding</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Addons/Settings">Settings</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Addons/Partition">Partitions</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Addons/Localization">Localization</a>
                    </li>
                </ul>
            </li>
            <li class="pli ">
                <a class="pa " href="../../../BGDatabase/API">API</a>
                <ul>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/API/BGRepo">BGRepo</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/API/BGMetaEntity">BGMetaEntity</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/API/BGEntity">BGEntity</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/API/BGField">BGField</a>
                    </li>
                </ul>
            </li>
        </ul>
    </div>
    <div class="mdl-cell--hide-desktop mdl-cell--hide-tablet mdl-cell--4-col-phone">
        <a class="pa" href="../../../BGDatabase">BG BGDatabase Home</a>
        <a class="pa" href="../../../BGDatabase/Setup">Setup</a>
        <a class="pa" href="../../../BGDatabase/HowToUse">How To Use</a>
        <a class="pa" href="../../../BGDatabase/Videos">Videos</a>
        <a class="pa" href="../../../BGDatabase/ExampleBreakdown">Example Breakdown</a>
        <a class="pa" href="../../../BGDatabase/SupportedFields">Fields</a>
        <a class="pa" href="../../../BGDatabase/ExportImport">Export Import</a>
        <a class="pa" href="../../../BGDatabase/DataBinding">Data Binding</a>
        <a class="pa" href="../../../BGDatabase/Events">Events</a>
        <a class="pa" href="../../../BGDatabase/CodeGeneration">Code Generation</a>
        <a class="pa" href="../../../BGDatabase/Addons">Addons</a>
    </div>
    <div class="mdl-cell mdl-cell--9-col mdl-cell--6-col-tablet mdl-cell--3-col-phone">
        <div class="bg-main mdl-shadow--3dp">
            <div class="bg-main-title">
                <h3>Save Load</h3>
            </div>

            <!--======================================================        BG Database Content              -->
            <div id="content">
            

<h4>What can I do with Save/Load addon?</h4>
<ul>
    <li>Save/load the state of the database to/from byte array during runtime on players devices</li>
    <li>Define which table and which fields you want to be saved/loaded using <a href="#mergesettings">merge settings</a> <span style="color: red">(it won't work if you skip this step)</span></li>
    <li>Create C# class for fine-grained row-level control.</li>
    <li>You can save the whole database without Save/Load addon (<a href="#saveAll">click</a>)</li>
</ul>

<h4>How can I enable it?</h4>
Choose <code>Addons->Save Load</code>, click "Enable", mark tables/fields for saving/loading and save the database.

<div>
    <h4>Examples</h4>
    <p>
        The following projects uses SaveLoad addon to save/load data:
    </p>
    <ol>
        <li><a href="../../Downloads/Example3DBasic">Basic 3D example</a></li>
        <li><a href="../../Downloads/Example2DBasic">Basic 2D example</a></li>
        <li><a href="../../Downloads/ExampleInventory">Inventory example</a></li>
        <li><a href="../../Downloads/ExampleLocalization">Localization example</a> (localization addon is required)</li>
    </ol>
</div>

<h4>How it works?</h4>
<p>
    SaveLoad addon can create multiple, configurable snapshots of database data and it can restore database state from these snapshots.
    Snapshots are constructed from the data, you marked as <i>changeable</i>, using <a href="#mergesettings">Merge settings</a>, described below. (<a href="#why">Why it works like this?</a>)
    Please, make sure you marked all data you want to be saved.
</p>
<div class="bg-image">
    <a href="../../../images/BGDatabase/SaveLoadAddonReview.png"><img style="width: 400px" src="../../../images/BGDatabase/SaveLoadAddonReview.png"></a>
</div>
<p>
    [Important] Loading with SaveLoad addon results in whole database to be reloaded,
    so if you use SaveLoad addon do not store references to tables/fields/entities, cause they will be obsolete after loading.
</p>

<h4 id="why">Why it works like this?</h4>
<p>
    Here is the quick explanation and main reasons why it works the way it works and why it's much better then simply saving the whole database.
</p>
<ol>
    <li>we want to be able to change database between public game releases</li>
    <li>we want to make sure the old saves, which are made with old version of database will remain compatible with new database</li>
    <li>As a result of loading old save, we want to keep all saved data and we want to keep the changes we made to default database (shipped with a game)</li>
</ol>
<p>
    Here is the detailed illustration about what we want to achieve:
</p>
<div class="bg-image">
    <a href="../../../images/BGDatabase/SaveLoadAddon3.png"><img style="width: 400px"
                                                              src="../../../images/BGDatabase/SaveLoadAddon3.png"></a>
</div>

<p>
    Another diagram:
</p>

<div class="bg-image">
    <a href="../../../images/BGDatabase/SaveLoadAddon4.png"><img style="width: 400px"
                                                              src="../../../images/BGDatabase/SaveLoadAddon4.png"></a>
</div>

<div class="flexdiv">
    <div>
        Read more about:
        <ol>
            <li>How to change your database and keep it compatible with old save files- read the <a href="#compatible">section below</a></li>
            <li>How to implement row-level control over merging- read <a href="#rowlevelexample">Row-level controller</a> section below.</li>
        </ol>
    </div>
</div>

<h4>How to use it?</h4>

<pre class="nomargin"><code class="language-csharp">
//to save
byte[] bytes = BGRepo.I.Addons.Get&lt;BGAddonSaveLoad&gt;().Save();

//to load
BGRepo.I.Addons.Get&lt;BGAddonSaveLoad&gt;().Load(bytes);
</code></pre>
<p>
    Once you obtained bytes array using Save method, you need to write it to some persistent storage (file or cloud drive)
    See <a href="../../Downloads/SaveLoadManager.txt">this minimalistic example</a> for more details.
    There are also custom units/actions for
    <a href="../../Downloads/RuntimeSaveLoadBolt">Bolt</a> and <a href="../../Downloads/RuntimeSaveLoadPlaymaker">Playmaker</a> are available.
</p>

<h4 id="saveAll">Is it possible to save/load the whole database?</h4>
<pre class="nomargin"><code class="language-csharp">
// !!!! This is not recommended !!!!
//to save
byte[] bytes = BGRepo.I.Save();

//to load
BGRepo.I.Load(bytes);
</code></pre>

<h4 id="mergesettings">Using Merge settings</h4>
<p>
    Using Merge settings you can choose which data to save/load.
    You want as less data to be saved as possible.
    You do not need to include data, which is "static" and can not be changed during play session.
</p>

<p>
    There are only 2 rules for using merge settings and condition for choosing one or another is whether or not rows can be added or removed at runtime.
</p>
<table class="contentTable">
    <tr>
        <th></th>
        <th>
            Rule #1
        </th>
        <th>
            Rule #2
        </th>
    </tr>
    <tr>
        <th>
            Condition
        </th>
        <td>Rows can NOT be added/deleted at runtime</td>
        <td>Rows can be added/deleted at runtime</td>
    </tr>
    <tr>
        <th>
            How to apply
        </th>
        <td>
            Turn on "Update matching".
            Optionally turn "Chose fields to update" on and mark the fields you want to be saved.
            (Tip: do not mark the fields which can not be changed at runtime)
        </td>
        <td>Turn on "Add missing", "Remove Orphaned", "Update matching".</td>
    </tr>
    <tr>
        <th  rowspan="2">
            Example
        </th>
        <td colspan="2" style="text-align: center;font-size: 12px;">We use our <a href="../../Downloads/Example3DBasic">Basic 3D project</a> as an example</td>
    </tr>
    <tr>
        <td>
            Rows from <code>Player</code> table can not be added or removed, so we do not turn on  "Add missing" and "Remove Orphaned".
            There is no need to save a <code>name</code> field, so we do not include it into settings
        </td>
        <td>
            Rows from <code>Collectable</code> table can be added and removed, so we turn on "Add missing", "Remove Orphaned", "Update matching"
        </td>
    </tr>
    <tr>
        <th>
            Screenshot for example
        </th>
        <td>
            <div class="bg-image">
                <a href="../../../images/BGDatabase/SaveLoad1.png"><img style="max-width: 200px"
                                                                     src="../../../images/BGDatabase/SaveLoad1.png"></a>
            </div>
        </td>
        <td>
            <div class="bg-image">
                <a href="../../../images/BGDatabase/SaveLoad2.png"><img style="max-width: 200px"
                                                                     src="../../../images/BGDatabase/SaveLoad2.png"></a>
            </div>
        </td>
    </tr>
</table>
    <div class="flexdiv">
        <div>
            Read more about:
            <ol>
                <li><a href="../../ExportImport#mergeSettings">Merge settings</a></li>
                <li><a href="../../Downloads/Example3DBasic">Basic 3D example project</a></li>
            </ol>
        </div>
    </div>



<h4 id="compatible">How to change your database and keep it compatible with old save files?</h4>
<ol>
    <li>Do not include static data (the data, which can not be changed during game session) to save/load merge settings</li>
    <li>While developing new, public version of your game- you can change <i>anything</i> in your static data with one simple exception:
        you can not delete rows which may be referenced from saved data.
        Well, actually you can, but in this case you need to make sure your code should handle null relation values properly.(and they will be null if you remove the rows)
    </li>
    <li>As for the data, which is saved within database snapshot (save file),
        <ul>
            <li>
                if you mark the field for saving using <a href="#mergesettings">merge settings</a> ("Update Matching") it will be loaded if the target row still exists in the default database
            </li>
            <li>
                if you mark the rows for saving ("Add missing" and "Remove Orphaned") the whole table will be updated with values from the saved file during loading, if this table (meta) still exists
                in the default database.
            </li>
            <li>
                if you want fine-grained, row-level control over loading - you can do it with C# controller class (read the <a href="#rowlevelexample">next section</a> for more details).
            </li>
        </ul>

    </li>
</ol>
<p>
    Here is an example from our <a href="../../Downloads/Example3DBasic">basic 3D example</a> project:
</p>
<div class="bg-image">
    <a href="../../../images/BGDatabase/SaveLoadAddon2.png"><img style="width: 400px"
                                                              src="../../../images/BGDatabase/SaveLoadAddon2.png"></a>
</div>


<h4 id="rowlevelexample">Row-level control over loading</h4>
<p>
    Merge settings give you control over which tables/fields you want to save. But what about particular rows?
    What if you want to update/add/delete only those rows which comply to some condition?
</p>
<p>
    This can be done with C# controller class, which can cancel update operation before it actually takes place.
    Currently there is no any merging on saving data, only on loading (but we reserved "merging on saving" option for future releases)
</p>
<p>
    Here is a quick example of custom controller class.
    This controller is made for our <a href="../../Downloads/Example3DBasic">basic 3D example</a> project.
</p>
<p>
    The main objective of this example controller is to prevent deleting Collectable rows for added scenes (scenes which was added between public game releases)
</p>
<p>
    Here is the code
</p>
<pre class="nomargin"><code class="language-csharp">
using BansheeGz.BGDatabase;

    // Warning!!! this controller is implemented without code generation
    //and may contains ugly boilerplate code
 public class MyCustomSaveLoadController : BGMergeSettingsEntity.IMergeReceiver,BGMergeSettingsEntity.IRemoveOrphanedReceiver
 {
     private bool loading;

     public bool OnBeforeMerge(BGRepo from, BGRepo to)
     {
         //here we want to know, if it's loading or saving?
         //... Note (currently there is no merging on saving, but it can be implemented in future releases)
         loading = to == BGRepo.I;
         return false;
     }

     public void OnAfterMerge(BGRepo from, BGRepo to)
     {
         //no need to write anything here
     }

     //this callback is invoked before row removal. Return true to cancel this operation
     public bool OnBeforeDelete(BGEntity toEntity)
     {
         if (loading)
         {
             if ("Collectable".Equals(toEntity.Meta.Name))
             {
                 //before deleting Collectable row, we want to make sure- it's not connected to newly added scene
                 var scene = toEntity.Get&lt;BGEntity&gt;("Scene");
                 //if scene's version more than 0 - cancel removing by returning true
                 return scene != null && scene.Get&lt;int&gt;("version") > 0;
             }
         }

         return false;
     }
 }
</code></pre>

<p>
    To see this controller in action:
</p>
<ul>
    <li>Download default 3D example project <a href="../../Downloads/Example3DBasic">here</a></li>
    <li>Run the scene (Assets\BGDatabaseBasic3DExample\Scenes\BGExample1.unity), collect some objects and save the game</li>
    <li>
        Let's assume this was made by a real player with our game version 1, and now we want to develop version 1.1 and we want to add a new scene.
        We could add a new scene without any controller and without any issue, but we want to populate this scene with Collectable rows,
        and we do not want them to be deleted while loading save file.
        Without this controller, all Collectable rows will be overriden with the data from the save file,
        cause in SaveLoad merge settings we marked this table for "addingMissing" and "removingOrphaned" (which basically mean the whole table will be restored from save file)
    </li>
    <li>At this point we start to develop game version 1.1. We will omit real scene creating, cause all we want- is to make sure our save file will be loaded properly
        and it will not erase our newly added collectables for new scene
    </li>
    <li>Open BGDatabase window, choose <code>Configuration->Scene</code> and add new int field, call it "version"</li>
    <li>Then choose <code>Database->Scene</code> and add a new scene</li>
    <li>For newly created scene assign "version" field to 1</li>
    <li>Choose "Collectable" field for new scene and add some Collectables</li>
    <li>Now choose <code>Addons->SaveLoad</code>, and assign "Controller Type" field to MyCustomSaveLoadController (this is a class name of our controller)</li>
    <li>Save the database and run BGExample1.unity scene again</li>
    <li>Load the game, choose <code>Database->Scene</code> and make sure all saved Collectables remain intact, just like newly added Collectables for our new scene.
        Also, you can run the same example without controller assigned to see the difference
    </li>
</ul>
<div class="flexdiv">
    <div>
        Read more about:
        <ol>
            <li>row-level controller on <a href="../../ExportImport#rowlevel">export/import page</a></li>
        </ol>
    </div>
</div>




<h4>BeforeSave event</h4>
You can declare you MonoBehavior script to be a receiver of BeforeSave event, so it could update the database before saving (code from the example project)
<pre class="nomargin"><code class="language-csharp">
//this class implement BGAddonSaveLoad.BeforeSaveReciever interface,
//so OnBeforeSave method will be called before saving
public class BGPlayer : BGM_Player, BGAddonSaveLoad.BeforeSaveReciever
{
    ...
    //this method is called before saving
    void BGAddonSaveLoad.BeforeSaveReciever.OnBeforeSave()
    {
        //save current position , rotation and scene to the database
        m_position = transform.position;
        m_rotation = transform.rotation;
        m_scene = BGE_Scene.FindEntity(scene => string.Equals(scene.Name, SceneManager.GetActiveScene().name));
    }
}
</code></pre>
Note, callback method is called on all loaded objects, including inactive game objects and prefabs.
Use the following code (at the beginning of your callback function) to filter out inactive game objects and prefabs.
<pre class="nomargin"><code class="language-csharp">
        // use the following line to filter out components, attached to inactive GameObjects
        if (!gameObject.activeInHierarchy) return;

        // use the following line to filter out prefabs
        if (!gameObject.scene.IsValid()) return;
</code></pre>

<div>
    <h4>Additional downloads</h4>
    <ol>
        <li>Custom action for <a href="../../ThirdParty/Playmaker">Playmaker</a> to support SaveLoad addon is available for download <a href="../../Downloads/RuntimeSaveLoadPlaymaker">here</a></li>
        <li>Custom unit for <a href="../../ThirdParty/Bolt">Bolt</a> to support SaveLoad addon is available for download <a href="../../Downloads/RuntimeSaveLoadBolt">here</a></li>
    </ol>
</div>
            </div>

            <!--======================================================       BG Database Footer               -->
        </div>

    </div>
</div>



        <!--======================================================      Root Footer               -->
        <footer class="bg-footer mdl-mega-footer" style="clear:both;">
            <div class="mdl-mega-footer--top-section">
                <div class="mdl-mega-footer--middle-section bg-footer-email">
                    <table>
                        <tr>
                            <td>
                                <script language="JavaScript">
                                    writeEmail("support", "bansheegz.com")
                                </script>
                            </td>
                            <td>
                                or
                            </td>
                            <td>
                                <script language="JavaScript">
                                    writeEmail("admin", "bansheegz.com")
                                </script>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
            <div style="text-align: center">
                <div id="share" style="display: inline-block;"></div>
            </div>
        </footer>
    </div>
</div>


</div>

<script defer src="https://code.getmdl.io/1.2.1/material.min.js"></script>

</body>
</html>
