<!doctype html>
<html lang="en">
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-76367732-7"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-76367732-7');
    </script>

    <meta charset="utf-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="BG Database is a in-game data management system for Unity3D game engine">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    
    <title>BansheeGz</title>

    <!-- Page styles -->
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="../../../css/font-awesome.min.css">
    <link rel="stylesheet" href="https://code.getmdl.io/1.2.1/material.min.css">

    <link rel="stylesheet" href="../../../css/main.css">
    <link rel="stylesheet" href="../../../css/page.css">

    <link rel="icon" type="image/png" href="../../../images/BGIcon.png"/>
</head>
<body>


<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>-->
<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>

<style>
    #aBox a {
        color: white;
        font: 15px Helvetica, Arial, Sans-Serif;
    }

    #bg-navigation a {
        background-position: 50px;
    }
</style>


<script>
    function writeEmail(whom, at) {
        document.write("<a href='mail" + "to:" + whom + "@" + at + "'>" + whom + "@" + at + "</a>");
    }
</script>

<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">

    <!--======================================================       Root  Header               -->
    <div class="bg-header mdl-layout__header mdl-layout__header--waterfall">
        <div class="mdl-layout__header-row" id="header">
          <span style="margin-left: -40px;">
              <a class="bg-header-a" href="/"><img src="../../../images/BGIconBig.png"></a>
          </span>
            <!-- Add spacer, to align navigation to the right in desktop -->
            <div class="mdl-layout-spacer"></div>
            <!-- Navigation -->
            <div class="bg-navigation-bag" id="bg-navigation">
                <nav class="bg-navigation mdl-navigation">
                    <a class="mdl-navigation__link mdl-typography--text-uppercase bg-navigation_link_active"
                       href="../../../BGDatabase">BG`Database</a>
                    <a class="mdl-navigation__link mdl-typography--text-uppercase "
                       href="../../../BGLocalization">BG`Localization</a>
                    <a class="mdl-navigation__link mdl-typography--text-uppercase "
                       href="../../../BGCurve">BG`Curve</a>
<!--                    <a class="mdl-navigation__link mdl-typography&#45;&#45;text-uppercase "-->
<!--                       href="../../../BGCurve/BGSplineColliders">BG`Spline_Colliders</a>-->
                    <a class="mdl-navigation__link mdl-typography--text-uppercase "
                       href="../../../Blog">Blog</a>
                    <a class="mdl-navigation__link mdl-typography--text-uppercase "
                       href="../../../Support">Support</a>
                </nav>
            </div>
            <button class="bg-menu-mobile mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect"
                    id="more-button">
                <i class="material-icons">more_vert</i>
            </button>
            <ul class="bg-menusub-mobile mdl-menu mdl-js-menu mdl-menu--bottom-right mdl-js-ripple-effect"
                for="more-button">
                <li class="mdl-menu__item"><a href="../../../BGDatabase">BG Database</a></li>
                <li class="mdl-menu__item"><a href="../../../BGLocalization">BG Localization</a></li>
                <li class="mdl-menu__item"><a href="../../../BGCurve">BG Curve</a></li>
                <li class="mdl-menu__item"><a href="../../../Support">Support</a></li>
                <li class="mdl-menu__item"><a href="../../../About">About Us</a></li>
            </ul>
        </div>
    </div>

    <!--
        <div style="min-height: 5px;background-color: #CCCCCC"></div>
        <div id="aBox" style="background-color: #ff69b4;height: 20px;color: white;text-align: center;">
            <b>
                Announcement: <a href="../../../BGDatabase"><b>BG Database</b></a> v. 1.1 is out!
        </b>
    </div>
    -->

    <div class="mdl-layout__content">
        <a name="top"></a>

        <!--======================================================        Content (from Root)              -->
        




<link rel="stylesheet" href="../../../css/bgdatabase.css">
<link rel="stylesheet" href="../../../css/magnific-popup.css">
<script src="../../../js/jquery.magnific-popup.min.js"></script>

<script>
    $(document).ready(function () {
        $('.bg-image').magnificPopup({
            delegate: 'a',
            type: 'image',
//            gallery:{enabled:true},
            closeOnContentClick: true
        });
    });
</script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/rainbow.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<!--======================================================       BG Database Header               -->


<div class="mdl-grid">
    <div class="mdl-cell mdl-cell--3-col mdl-cell--2-col-tablet mdl-cell--hide-phone bg-sm  mdl-shadow--3dp">
        <ul id="leftmenu">
            <li class="pli databaseicon ">
                <a class="pa" href="../../../BGDatabase">BG Database Home</a>
                <ul>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Setup">Setup</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/HowToUse">How to use</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/GUIOverview">GUI Overview</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/CodeExamples">Code Examples</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Videos">Videos</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/SupportedFields">Field types</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/ExportImport">Export Import</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/DataBinding">Data Binding</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/MergeTool">Merge Tool</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Misc">Misc</a>
                    </li>
                    <li class="cli downloadicon ">
                        <a class="ca" href="../../../BGDatabase/Downloads">Downloads</a>
                    </li>
                </ul>
            </li>
            <li class="pli ">
                <a class="pa " href="../../../BGDatabase/CodeGeneration">Code Generation</a>
                <ul>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/CodeGeneration/ExtensionClasses">Extension Classes</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/CodeGeneration/MonoBehaviourClasses">MonoBehavior Classes</a>
                    </li>
<!--
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/CodeGeneration/DnaClasses">Dna Classes</a>
                    </li>
-->
                </ul>
            </li>
            <li class="pli ">
                <a class="pa " href="../../../BGDatabase/ThirdParty">Third-Party Integration</a>
                <ul>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/ThirdParty/Excel">Excel</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/ThirdParty/GoogleSheets">Google Sheets</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/ThirdParty/Bolt">Unity Visual Scripting (ex-Bolt)</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/ThirdParty/Playmaker">Playmaker</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/ThirdParty/FlowCanvas">Flow Canvas</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/ThirdParty/GameCreator">Game Creator</a>
                    </li>
                </ul>
            </li>
            <li class="pli ">
                <a class="pa " href="../../../BGDatabase/Addons">Addons</a>
                <ul>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Addons/SaveLoad">Save Load</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Addons/CodeGeneration">Code Generation</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Addons/LazyLoad">Lazy Load</a>
                    </li>
                    <li class="cli  plic ">
                        <a class="ca" href="../../../BGDatabase/Addons/LiveUpdate">Live Update</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Addons/Multithreading">Multithreading</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Addons/Modding">Modding</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Addons/Settings">Settings</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Addons/Partition">Partitions</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/Addons/Localization">Localization</a>
                    </li>
                </ul>
            </li>
            <li class="pli ">
                <a class="pa " href="../../../BGDatabase/API">API</a>
                <ul>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/API/BGRepo">BGRepo</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/API/BGMetaEntity">BGMetaEntity</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/API/BGEntity">BGEntity</a>
                    </li>
                    <li class="cli ">
                        <a class="ca" href="../../../BGDatabase/API/BGField">BGField</a>
                    </li>
                </ul>
            </li>
        </ul>
    </div>
    <div class="mdl-cell--hide-desktop mdl-cell--hide-tablet mdl-cell--4-col-phone">
        <a class="pa" href="../../../BGDatabase">BG BGDatabase Home</a>
        <a class="pa" href="../../../BGDatabase/Setup">Setup</a>
        <a class="pa" href="../../../BGDatabase/HowToUse">How To Use</a>
        <a class="pa" href="../../../BGDatabase/Videos">Videos</a>
        <a class="pa" href="../../../BGDatabase/ExampleBreakdown">Example Breakdown</a>
        <a class="pa" href="../../../BGDatabase/SupportedFields">Fields</a>
        <a class="pa" href="../../../BGDatabase/ExportImport">Export Import</a>
        <a class="pa" href="../../../BGDatabase/DataBinding">Data Binding</a>
        <a class="pa" href="../../../BGDatabase/Events">Events</a>
        <a class="pa" href="../../../BGDatabase/CodeGeneration">Code Generation</a>
        <a class="pa" href="../../../BGDatabase/Addons">Addons</a>
    </div>
    <div class="mdl-cell mdl-cell--9-col mdl-cell--6-col-tablet mdl-cell--3-col-phone">
        <div class="bg-main mdl-shadow--3dp">
            <div class="bg-main-title">
                <h3>Live Update</h3>
            </div>

            <!--======================================================        BG Database Content              -->
            <div id="content">
            

<style>
    .llink {
        font-size: 12px;
        margin: 0;
    }
</style>

<h4>Description</h4>
<p>
    Live update addon let you update database data on player's devices using the data from Google Sheets or from JSON/CSV files hosted on a web server.
    Export to google sheets is not supported.
</p>

<h4>How it works</h4>
<ol>
    <li>
        First time your game is launched and database is loaded, addon tries to read data from Google Sheets/web server files.
        Alternatively set "Manual load" parameter on and trigger loading manually from script at any moment</li>
    <li>If step 1 is successful, every time database is loaded, it will be merged with remote data, thus
        applying the update.
    </li>
    <li>If step 1 is unsuccessful, database data will remain intact.</li>
</ol>


<h4>Restrictions</h4>
<ol>
    <li>WebGl platform requires special setup (<a href="#webgl">read below</a>)</li>
    <li>Do not use this addon to update critical data.
        There is a chance some users won't be able to download updates (due to network issues for example).
    </li>
    <li>
        Plugin uses formatted values, not raw value. If you use numeric fields, please, make sure formatted value for these fields
        are the same as raw values (you may need to change cells formatting)
    </li>
</ol>

<h4 id="dataSourcesTypes">Google Sheets API types</h4>
<table class="contentTable">
    <tr>
        <th width="25%">
            API type->
        </th>
        <th width="25%">
            GoogleSheets API
        </th>
        <th width="25%">
            Visualization API
        </th>
        <th width="25%">
            Excel file export
        </th>
    </tr>
    <tr>
        <td>URL to retrieve data</td>
        <td>https://sheets.googleapis.com/v4/spreadsheets/[Your Spreadsheet Id]/values/[Table Name]?key=[Your API key]</td>
        <td>https://docs.google.com/spreadsheets/d/[Your Spreadsheet Id]/gviz/tq?tqx=out:csv&sheet=[Table Name]</td>
        <td>https://docs.google.com/spreadsheets/d/[Your Spreadsheet Id]/export</td>
    </tr>
    <tr>
        <td>Number of network calls</td>
        <td>1 * number of tables</td>
        <td>1 * number of tables</td>
        <td>1</td>
    </tr>
    <tr>
        <td>Pros</td>
        <td>Official recommended method</td>
        <td>Do not require any credentials</td>
        <td>
            <ol>
                <li>Do not require any credentials</li>
                <li>Fastest method if you update several tables, cause it uses one single network call to obtain all data</li>
            </ol>
        </td>
    </tr>
    <tr>
        <td>Cons</td>
        <td>
            <ol>
                <li>API calls have free usage limits. Read more <a href="https://developers.google.com/sheets/api/limits">here</a>.
                    If you reach the limit, GoogleSheets will not return correct feed and LiveUpdate plugin will fail.
                </li>
                <li>API key is exposed, cause database stores the value</li>
            </ol>
        </td>
        <td>
            <ol>
                <li>It's not clear if Google can consider it as API abuse and ToS violation</li>
            </ol>
        </td>
        <td>
            <ol>
                <li>It's not clear if Google can consider it as API abuse and ToS violation</li>
                <li>Require special setup</li>
                <li>Not working on WEBGl platform</li>
            </ol>
        </td>
    </tr>
    <tr>
        <td>Special setup</td>
        <td>None</td>
        <td>None</td>
        <td>
            <ol>
                <li>
                    Download and import <a href="../../Downloads/NPOI.unitypackage">NPOI DLLs</a>.
                    If you already have NPOI DLLs in your project- delete old DLLs <b>before</b> importing.
                </li>
                <li>Download and import <a href="../../Downloads/BGDatabaseLiveUpdateExcelParser.unitypackage">this package</a></li>
            </ol>
        </td>
    </tr>
</table>

<h4>Setup for Google Sheets</h4>
<ol>
    <li>
        Enable LiveUpdate plugin (under addons->LiveUpdate)
    </li>
    <li>
        Choose DataSource type (GoogleSheets API/Visualization API/Excel file export)
    </li>
    <li>
        Get <a href="https://developers.google.com/sheets/api/guides/concepts#spreadsheet_id">Spreadsheet Id</a> from Google. Assign it to <b>Spreadsheet Id</b> LiveUpdate addon parameter
    </li>
    <li>
        If you chose GoogleSheets API (the first option), get <a href="https://developers.google.com/sheets/api/guides/authorizing#APIKey">"API key"</a> from Google. Assign it to <b>API key</b> LiveUpdate addon parameter
    </li>
    <li>
        Make sure to share the target spreadsheet.
        Open target spreadsheet, click on Share button on the top right and set access level to "public" or "people with link".
        Otherwise plugin won't work.
    </li>
    <li>
        Google sheets data should have proper layout (as described <a href="../../ExportImport">here</a>).
        Starting with v.1.5.13 _id column/ID value are not required anymore <i style="text-decoration: line-through;">_id column with valid IDs are required</i>
    </li>
</ol>


<h4>Checking if GoogleSheets setup was correct</h4>
<div>
    You can check if you set up config properly by accessing specific URL from your browser without logging to Google account.
    Each DataSource type uses it's own URL (listed in the table above), so try to access the data with corresponding URL
</div>
<div>
    For example, GoogleSheets API datasource type uses this URL to access the data
    https://sheets.googleapis.com/v4/spreadsheets/[Your Spreadsheet Id]/values/[Name of one of your meta]?key=[Your API key] , so for the following parameters
    <ol>
        <li>
            SpreadsheetId=MYko0fxH01GIJcBq41YAT9eFpU6Znm5I5RByHsJpupHZ
        </li>
        <li>
            ApiKey=RYIzaSyB0xsc_BoOBNRHfhW9xpCx1t03a-gV6qc
        </li>
        <li>
            Meta=Items
        </li>
    </ol>
    the URL to check will be :
    <p class="llink">
        https://sheets.googleapis.com/v4/spreadsheets/<b>MYko0fxH01GIJcBq41YAT9eFpU6Znm5I5RByHsJpupHZ</b>/values/<b>Items</b>?key=<b>RYIzaSyB0xsc_BoOBNRHfhW9xpCx1t03a-gV6qc</b>
    </p>
    This is not a working example, it's just an example how to substitute parameters.
</div>

<h4>Setup for web server hosted files</h4>
<ol>
    <li>
        Enable LiveUpdate plugin (under addons->LiveUpdate)
    </li>
    <li>
        Select web hosted files as an update source
    </li>
    <li>
        Create a list of files URL and formats (Json/CSV)
    </li>
    <li>
        The files data should have proper layout (as described above in the "A web server hosted files types" section)
    </li>
</ol>

<h4>A web server hosted files types</h4>
<p>
    This is Work In Progress (BGDatabase 1.6.5 is required)
</p>
<table class="contentTable">
    <tr>
        <th width="10%">
            File format->
        </th>
        <th width="40%">
            Json
        </th>
        <th width="40%">
            CSV
        </th>
    </tr>
    <tr>
        <td>Special setup</td>
        <td class="ra" style="text-align: justify">
            For JSON file format we use the format from Google Sheets:
            <ol>
                <li>Use values property with 2-dimensional array for values. The first array element contains field types (see the image below) </li>
                <li>For values use string type even if value is not string</li>
            </ol>
            <div class="bg-image">
                <a href="../../../images/BGDatabase/LiveUpdateAddon1.png"><img style="width:150px; height: 75px" src="../../../images/BGDatabase/LiveUpdateAddon1.png"></a>
            </div>
        </td>
        <td class="ra" style="text-align: justify">
            For CSV file format we use the format from Google Visualization API
            <ol>
                <li>For values use string type even if value is not string</li>
            </ol>
            <div class="bg-image">
                <a href="../../../images/BGDatabase/LiveUpdateAddon2.png"><img style="width:150px; height: 75px" src="../../../images/BGDatabase/LiveUpdateAddon2.png"></a>
            </div>
        </td>
    </tr>
</table>


<h4 id="webgl">WEBGL/Asynchronous setup</h4>
<p>
    WEBGL platform does not allow to update data synchronously.
    So the data on this platform is updated asynchronously, over several frames.
    It means data should be preloaded before it can be accessed.
    Alternative way to load data asynchronously is to toggle on "Force asynchronous" parameter.
</p>
<p>
    Here are the required steps:
</p>
<ol>
    <li>Make sure to toggle "Manual Load" parameter on</li>
    <li>Download <a href="../../Downloads/LiveUpdatePreloader.txt">this preloader script</a> and attach it to any GameObject in your starting scene</li>
    <li>Once LiveUpdate plugin finishes downloading data, LiveUpdatePreloader.Ready method will be called. Make sure to not access database until this moment</li>
    <li>Preloader should work on any platform, no need to write platform specific code</li>
</ol>

<h4>Parameters</h4>
<table class="contentTable">
    <tr>
        <th>
            Parameter name
        </th>
        <th>
            Description
        </th>
    </tr>
    <tr>
        <td>Spreadsheet Id</td>
        <td>
            Id of your spreadsheet. Learn how to obtain it <a
                href="https://developers.google.com/sheets/api/guides/concepts#spreadsheet_id">here</a>
        </td>
    </tr>
    <tr>
        <td>API key</td>
        <td>
            API key to use for GoogleSheets API datasource type. Learn how to create it <a
                href="https://developers.google.com/sheets/api/guides/authorizing#APIKey">here</a>
        </td>
    </tr>
    <tr>
        <td>Timeout</td>
        <td>
            Timeout for connection. Value (in seconds) is between 1-30, default is 5
        </td>
    </tr>
    <tr>
        <td>Manual Load</td>
        <td>
            Set it to true if you do not want this addon to be executed automatically.
            In this case, you will need to manually trigger the loading by calling
            <pre>
BGRepo.I.Addons.Get&lt;BGAddonLiveUpdate&gt;().Load(true);
</pre>
        </td>
    </tr>
    <tr>
        <td>In Builds Only</td>
        <td>
            Setting this to true will disable addon if your game is run in Editor. It will work in builds only.
            It is recommended to set it to true as soon as you are sure the addon works correctly.
        </td>
    </tr>
    <tr>
        <td>Force asynchronous</td>
        <td>
            If set to true, data loader will use asynchronous loader, which does not block main thread and loads data over several frames.
            WEBGl platform ignores this parameter, cause it does not support synchronous loader and uses asynchronous loader by default
        </td>
    </tr>
    <tr>
        <td>Merge Settings</td>
        <td>
            The same merge settings you use for Export/Import or Saving/Loading. Learn more about merge settings <a
                href="../../ExportImport#mergeSettings">here</a>
        </td>
    </tr>
    <tr>
        <td>Log level</td>
        <td>
            level of details to be used while gathering log information. Logs messages are gathered while addon tries to read information from GoogleSheets
        </td>
    </tr>
    <tr>
        <td>Print log on load</td>
        <td>
            If set to true, log will be printed to Unity console after load attempt
        </td>
    </tr>
    <tr>
        <td>Value resolver type</td>
        <td>
            Full C# type name to be used to convert GoogleSheets values to another format.
            This type should implement BansheeGz.BGDatabase.BGLiveUpdateValueResolver interface.
            For example, you could use currency formatted values inside GoogleSheet for int fields ($5,200).
            To properly read such values you need to convert them to valid int values ($5,200->5200).
            <a href="../../Downloads/LiveUpdateValueResolver.txt">Here is </a> an example implementation of such type, which do such conversion.
        </td>
    </tr>
</table>

            </div>

            <!--======================================================       BG Database Footer               -->
        </div>

    </div>
</div>



        <!--======================================================      Root Footer               -->
        <footer class="bg-footer mdl-mega-footer" style="clear:both;">
            <div class="mdl-mega-footer--top-section">
                <div class="mdl-mega-footer--middle-section bg-footer-email">
                    <table>
                        <tr>
                            <td>
                                <script language="JavaScript">
                                    writeEmail("support", "bansheegz.com")
                                </script>
                            </td>
                            <td>
                                or
                            </td>
                            <td>
                                <script language="JavaScript">
                                    writeEmail("admin", "bansheegz.com")
                                </script>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
            <div style="text-align: center">
                <div id="share" style="display: inline-block;"></div>
            </div>
        </footer>
    </div>
</div>


</div>

<script defer src="https://code.getmdl.io/1.2.1/material.min.js"></script>

</body>
</html>
