#set page=Field types

<h4>Fields overview</h4>
<div class="bg-image">
    <a href="#path images/BGDatabase/FieldsReview.png"><img style="width: 400px"
                                                            src="#path images/BGDatabase/FieldsReview.png"></a>
</div>

<h4>Fields table</h4>
<p>
    This is all fields types, BGDatabase currently supports (you can create your own field if it's needed.)
</p>
<table class="contentTable">
    <tr>
        <th>
            Field Group
        </th>
        <th>
            Field name
        </th>
        <th>
            Field Type
        </th>
        <th>
            Comments
        </th>
    </tr>
    <tr>
        <td rowspan="11">Primitives</td>
        <td>int</td>
        <td>int</td>
        <td></td>
    </tr>
    <tr>
        <td>long</td>
        <td>long</td>
        <td></td>
    </tr>
    <tr>
        <td>float</td>
        <td>float</td>
        <td></td>
    </tr>
    <tr>
        <td>double</td>
        <td>double</td>
        <td></td>
    </tr>
    <tr>
        <td>bool</td>
        <td>bool</td>
        <td></td>
    </tr>
    <tr>
        <td>decimal</td>
        <td>decimal</td>
        <td></td>
    </tr>
    <tr>
        <td>short</td>
        <td>short</td>
        <td></td>
    </tr>
    <tr>
        <td>byte</td>
        <td>byte</td>
        <td></td>
    </tr>
    <tr>
        <td>guid</td>
        <td>Guid</td>
        <td></td>
    </tr>
    <tr>
        <td>string</td>
        <td>string</td>
        <td>single line text</td>
    </tr>
    <tr>
        <td>text</td>
        <td>string</td>
        <td>multiple lines text</td>
    </tr>
    <tr>
        <td rowspan="6">Primitive nullable</td>
        <td>int?</td>
        <td>int?</td>
        <td></td>
    </tr>
    <tr>
        <td>long?</td>
        <td>long?</td>
        <td></td>
    </tr>
    <tr>
        <td>float?</td>
        <td>float?</td>
        <td></td>
    </tr>
    <tr>
        <td>double?</td>
        <td>double?</td>
        <td></td>
    </tr>
    <tr>
        <td>bool?</td>
        <td>bool?</td>
        <td></td>
    </tr>
    <tr>
        <td>guid?</td>
        <td>Guid?</td>
        <td></td>
    </tr>
    <tr>
        <td rowspan="4">Enum <a href="#enum">#5</a></td>
        <td>enum</td>
        <td>Enum</td>
        <td></td>
    </tr>
    <tr>
        <td>enumByte</td>
        <td>Enum</td>
        <td></td>
    </tr>
    <tr>
        <td>enumShort</td>
        <td>Enum</td>
        <td></td>
    </tr>
    <tr>
        <td>enumList</td>
        <td>List&lt;Enum&gt;</td>
        <td></td>
    </tr>
    <tr>
        <td rowspan="12">Unity Primitives</td>
        <td>vector2</td>
        <td>Vector2</td>
        <td></td>
    </tr>
    <tr>
        <td>vector3</td>
        <td>Vector3</td>
        <td></td>
    </tr>
    <tr>
        <td>vector4</td>
        <td>Vector4</td>
        <td></td>
    </tr>
    <tr>
        <td>quaternion</td>
        <td>Quaternion</td>
        <td></td>
    </tr>
    <tr>
        <td>rect</td>
        <td>Rect</td>
        <td></td>
    </tr>
    <tr>
        <td>bounds</td>
        <td>Bounds</td>
        <td></td>
    </tr>
    <tr>
        <td>color</td>
        <td>Color</td>
        <td></td>
    </tr>
    <tr>
        <td>ray</td>
        <td>Ray</td>
        <td></td>
    </tr>
    <tr>
        <td>ray2d</td>
        <td>Ray2D</td>
        <td></td>
    </tr>
    <tr>
        <td>keyCode</td>
        <td>KeyCode</td>
        <td></td>
    </tr>
    <tr>
        <td>gradient</td>
        <td>Gradient</td>
        <td></td>
    </tr>
    <tr>
        <td>animationCurve2017</td>
        <td>AnimationCurve</td>
        <td>Field target Unity 2017. For Unity >= 2018, download field animationCurve2018 <a href="../Downloads">here</a></td>
    </tr>
    <tr>
        <td rowspan="5">Unity Primitive nullable</td>
        <td>vector2?</td>
        <td>Vector2?</td>
        <td></td>
    </tr>
    <tr>
        <td>vector3?</td>
        <td>Vector3?</td>
        <td></td>
    </tr>
    <tr>
        <td>vector4?</td>
        <td>Vector4?</td>
        <td></td>
    </tr>
    <tr>
        <td>quaternion?</td>
        <td>Quaternion?</td>
        <td></td>
    </tr>
    <tr>
        <td>color?</td>
        <td>Color?</td>
        <td></td>
    </tr>
    <tr>
        <td rowspan="8">Unity Assets <a href="#unityassets">#6</a></td>
        <td>unityTexture</td>
        <td>Texture</td>
        <td></td>
    </tr>
    <tr>
        <td>unityTexture2d</td>
        <td>Texture2D</td>
        <td></td>
    </tr>
    <tr>
        <td>unitySprite</td>
        <td>Sprite</td>
        <td>Can accept a single sprite, a sprite from a multiple sprite, a sprite from <a href="https://docs.unity3d.com/Manual/class-SpriteAtlas.html">SpriteAtlas</a>
        If you use SpriteAtlas, make sure to turn SpritePacker on
            (set Edit->Project settings->Editor->SpritePacker to "Always Enabled" and press on "Pack preview" button when you change your atlas)
        </td>
    </tr>
    <tr>
        <td>unityMaterial</td>
        <td>Material</td>
        <td></td>
    </tr>
    <tr>
        <td>unityPrefab</td>
        <td>GameObject</td>
        <td></td>
    </tr>
    <tr>
        <td>unityFont</td>
        <td>Font</td>
        <td></td>
    </tr>
    <tr>
        <td>unityAudioClip</td>
        <td>AudioClip</td>
        <td></td>
    </tr>
     <tr>
        <td>unityObject</td>
        <td>Object</td>
        <td>
            <b>Any</b> Unity asset type can be referenced. Additional type constraint can also be added and Code Generators generate proper property type
        </td>
    </tr>
    <tr>
        <td rowspan="7">List of Primitives</td>
        <td>listBool</td>
        <td>List&lt;bool&gt;</td>
        <td></td>
    </tr>
    <tr>
        <td>listDouble</td>
        <td>List&lt;double&gt;</td>
        <td></td>
    </tr>
    <tr>
        <td>listFloat</td>
        <td>List&lt;float&gt;</td>
        <td></td>
    </tr>
    <tr>
        <td>listGuid</td>
        <td>List&lt;Guid&gt;</td>
        <td></td>
    </tr>
    <tr>
        <td>listInt</td>
        <td>List&lt;int&gt;</td>
        <td></td>
    </tr>
    <tr>
        <td>listLong</td>
        <td>List&lt;long&gt;</td>
        <td></td>
    </tr>
    <tr>
        <td>listString</td>
        <td>List&lt;string&gt;</td>
        <td></td>
    </tr>
    <tr>
        <td rowspan="5">List of Unity Primitives</td>
        <td>listVector2</td>
        <td>List&lt;Vector2&gt;</td>
        <td></td>
    </tr>
    <tr>
        <td>listVector3</td>
        <td>List&lt;Vector3&gt;</td>
        <td></td>
    </tr>
    <tr>
        <td>listVector4</td>
        <td>List&lt;Vector4&gt;</td>
        <td></td>
    </tr>
    <tr>
        <td>listQuaternion</td>
        <td>List&lt;Quaternion&gt;</td>
        <td></td>
    </tr>
    <tr>
        <td>listColor</td>
        <td>List&lt;Color&gt;</td>
        <td></td>
    </tr>
    <tr>
        <td>Dictionary</td>
        <td>
            hashtable <a href="#hashtable">#4</a>
        </td>
        <td>Hashtable</td>
        <td></td>
    </tr>
    <tr>
        <td rowspan="7">Relations <a href="#relations">#1</a></td>
        <td>relationSingle</td>
        <td>BGEntity</td>
        <td>reference to one single row from one single table</td>
    </tr>
    <tr>
        <td>relationMultiple</td>
        <td>List&lt;BGEntity&gt;</td>
        <td>reference to several rows from one single table</td>
    </tr>
    <tr>
        <td><span style="text-decoration:line-through;">manyTableRelationSingle</span></td>
        <td>BGEntity</td>
        <td>reference to one single row from several tables (use field's gear icon to define multiple tables).
            Not recommended, use viewRelationSingle instead
        </td>
    </tr>
    <tr>
        <td><span style="text-decoration:line-through;">manyTableRelationMultiple</span></td>
        <td>List&lt;BGEntity&gt;</td>
        <td>reference to several rows from several tables (use field's gear icon to define multiple tables).
            Not recommended, use viewRelationMultiple instead
        </td>
    </tr>
    <tr>
        <td>viewRelationSingle</td>
        <td>BGEntity</td>
        <td>reference to one single row from a view (several tables)</td>
    </tr>
    <tr>
        <td>viewRelationMultiple</td>
        <td>List&lt;BGEntity&gt;</td>
        <td>reference to several rows from a view (several tables)</td>
    </tr>
    <tr>
        <td>nested <a href="#nested">#2</a></td>
        <td>List&lt;BGEntity&gt;</td>
        <td>read-only</td>
    </tr>
    <tr>
        <td rowspan="3">Unity Scene <a href="#unityscene">#3</a></td>
        <td>objectReference</td>
        <td>BGWithId</td>
        <td>read-only</td>
    </tr>
    <tr>
        <td>objectListReference</td>
        <td>List&lt;BGWithId&gt;</td>
        <td>read-only</td>
    </tr>
    <tr>
        <td>objectListMultiValueReference</td>
        <td>List&lt;BGWithId&gt;</td>
        <td>read-only</td>
    </tr>
    <tr>
        <td rowspan="6">Calculated <a href="#calculated">#7</a></td>
        <td>calculatedBool</td>
        <td>bool</td>
        <td rowspan="5">
            These fields calculate the value, when this value is requested, using <a href="../GraphEditor">graph editor tool</a>
        </td>
    </tr>
    <tr>
        <td>calculatedString</td>
        <td>string</td>
    </tr>
    <tr>
        <td>calculatedInt</td>
        <td>int</td>
    </tr>
    <tr>
        <td>calculatedFloat</td>
        <td>float</td>
    </tr>
    <tr>
        <td>calculatedObject</td>
        <td>object</td>
    </tr>
    <tr>
        <td>action</td>
        <td>Action</td>
        <td>
            Action does not calculate any value, but change database values, create/delete rows.
        </td>
    </tr>
    <tr>
        <td rowspan="5">Programmable <a href="#programmable">#8</a></td>
        <td>programmableBool</td>
        <td>bool</td>
        <td rowspan="5">
            Alternative to calculated fields, but calculation is implemented with C# code, rather than the graph tool.
        </td>
    </tr>
    <tr>
        <td>programmableString</td>
        <td>string</td>
    </tr>
    <tr>
        <td>programmableInt</td>
        <td>int</td>
    </tr>
    <tr>
        <td>programmableFloat</td>
        <td>float</td>
    </tr>
    <tr>
        <td>programmableObject</td>
        <td>object</td>
    </tr>
</table>


<h4 id="relations">Relational fields (#1)</h4>
<p>
    Relational fields are used for referencing database row(s).
    Such fields store row's primary key(s) and when the value is requested it uses these keys to resolve and return database row(s).
    The simplest relational field (relationSingle) is like a single column nullable
    <a href="https://www.educative.io/blog/what-is-foreign-key-database">foreign key</a>, referencing one single row from one single table.
    Here is an example: let's say you have <code>Cities</code> table and <code>Countries</code> table and <code>Cities</code> table
    has <code>country</code> relationSingle field, referencing <code>Countries</code> table.
</p>
<div class="bg-image">
    <a href="#path images/BGDatabase/SupportedFields4.png"><img style="width: 400px" src="#path images/BGDatabase/SupportedFields4.png"></a>
</div>
<p>
    Relational fields differ in terms of how many tables and rows they can reference
    (read <a href="../../Blog/BGDatabase-v1-7-1-Many-tables-relational-fields">this blog post</a> for more details)
</p>
<p>
    Starting with BGDatabase 1.7.5- viewRelationSingle and viewRelationMultiple fields are recommended over
    manyTablesRelationSingle and manyTablesRelationMultiple fields
    (read <a href="../../Blog/BGDatabase-v1-7-5-Views-and-viewrelational-fields">this blog post</a> for more details)
</p>
<table class="contentTable">
    <tr>
        <th>Field (relation)
        </th>
        <th>
            How many tables can be referenced
        </th>
        <th>
            How many rows can be referenced
        </th>
    </tr>
    <tr>
        <td>relationSingle</td>
        <td>1</td>
        <td>1</td>
    </tr>
    <tr>
        <td>relationMultiple</td>
        <td>1</td>
        <td>n</td>
    </tr>
    <tr>
        <td><span style="text-decoration:line-through;">manyTablesRelationSingle</span></td>
        <td>n</td>
        <td>1</td>
    </tr>
    <tr>
        <td><span style="text-decoration:line-through;">manyTablesRelationMultiple</span></td>
        <td>n</td>
        <td>n</td>
    </tr>
    <tr>
        <td>viewRelationSingle</td>
        <td>n</td>
        <td>1</td>
    </tr>
    <tr>
        <td>viewRelationMultiple</td>
        <td>n</td>
        <td>n</td>
    </tr>
</table>

<h4 id="nested">Nested Field (#2)</h4>
<p>
    Nested field is a special field, which creates a whole new meta (table), which has many-to-one relation to owner
    meta.
    It means, you can create a linked list with any fields that are supported by BGDatabase.
    It is a readonly field (to change it's value- delete or add nested Entities).
    To create a nested Entity use special method, which accept the owner of nested entity <code>BGMetaNested.NewEntity(BGEntity
    owner)</code>.
    BGMetaNested is a class for nested tables (to be used instead of generic BGMetaRow)
</p>
<div class="bg-image">
    <a href="#path images/BGDatabase/SupportedFields1.png"><img style="width: 400px"
                                                                src="#path images/BGDatabase/SupportedFields1.png"></a>
</div>

<p>
    Technically, it's a usual table with many-to-one relation to parent table with 2 distinct features:
</p>
<ol>
    <li>To access nested rows you need to choose parent row first using parent table GUI</li>
    <li>If you delete a parent row, related nested rows will also be deleted, cause they are considered as integral part of this parent row</li>
</ol>
<p>
    You can read more about nested table concept <a href="http://dbdesigner.page.link/xWiZ">here</a>
</p>

<h4 id="unityscene">Unity Scene Fields (#3)</h4>
Referencing scene GameObjects using objectReference/objectListReference/objectListMultiValueReference fields is implemented with the same technique, which is used in
<a href="https://github.com/Unity-Technologies/guid-based-reference">this example Unity project</a>,
by adding additional component (component name under components menu is "BansheeGz/Id", C# class is BGWithId) with unique ID.
BGWithId is a <code>MonoBehaviour</code> component, to access GameObject- use <code>gameObject</code> property.
On Awake method object is added to the internal cache and On OnDestroy method object is removed from this cache.
The result depends on which objects are loaded and which objects are not and can differs during play session.
Here is a table, describing fields features:
<table class="contentTable">
    <tr>
        <th>Feature &#8595\Field &#8594</th>
        <th>objectReference</th>
        <th>objectListReference</th>
        <th>objectListMultiValueReference</th>
    </tr>
    <tr>
        <td>Purpose</td>
        <td>
            Return the first loaded GameObject with specified ID
        </td>
        <td>
            Return all loaded GameObjects with specified ID
        </td>
        <td>
            Return all loaded GameObjects with specified IDs
        </td>
    </tr>
    <tr>
        <td>Internal value</td>
        <td>
            Single ID
        </td>
        <td>
            Single ID
        </td>
        <td>
            Multiple ID
        </td>
    </tr>
    <tr>
        <td>Comments</td>
        <td>
        </td>
        <td colspan="2">
            These 2 fields differ in terms of how many IDs are used to reference multiple GameObjects.
            <code>objectListReference</code> field uses the single ID value and returns all loaded GameObjects with this ID.
            <code>objectListMultiValueReference</code> field uses multiple IDs values and returns all loaded GameObjects with these IDs.
        </td>
    </tr>
</table>

<h4 id="hashtable">Hashtable (#4)</h4>
<p>
    Hashtable is a dictionary without generic parameters.
    Following types are supported as keys: int, string, bool, Guid, custom fields.
    Following types are not supported as values: Unity assets, relations, hashtable, nullable structs. Null values are also not supported.
</p>

<h4 id="enum">Enum/enumList (#5)</h4>
<p>
    With enum/enumList fields you can reference your own enumerations.
    Important notes:
</p>
<ol>
    <li>
        You need to provide correct C# enum type name while creating enum field.
        If you can not figure out the correct C# type name for your enum, use
        <a href="https://docs.microsoft.com/en-us/dotnet/api/system.type.fullname?view=net-6.0">Type.FullName</a> property to print enum type name to the console
        <code>Debug.Log(typeof(MyEnum).FullName);</code>
        <details>
            <summary>Enum type name examples</summary>
            <pre class="nomargin"><code class="language-csharp">// MyEnum
public enum MyEnum
{
}

// MyNameSpace.MyEnum
namespace MyNameSpace
{
    public enum MyEnum
    {
    }
}

// MyNameSpace.MyClass+MyEnum
namespace MyNameSpace
{
    public class MyClass
    {
        public enum MyEnum
        {
        }
    }
}</code></pre>
        </details>
    </li>
    <li>Once you created your own enum field, you can not change enum type name, namespace or underlying type, cause they are stored inside database.
        If you want to rename enum type or namespace, follow <a href="ChangeEnumTypeGuide" target="_blank">this guide</a>.
        If you want to change underlying enum type (int, short, byte),
        follow <a href="https://forum.unity.com/threads/bg-database-inmemory-database-excel-google-sheets-syncing-codegen-save-load-support.529740/page-10#post-8240025" target="_blank">this guide</a>.
    </li>
    <li>
        Values are stored exactly as C# store them- with numeric value.
        You may consider adding numeric values to your constants so constants reordering does not affect values
        <div class="bg-image">
            <a href="#path images/BGDatabase/SupportedFields2.png"><img style="width: 400px" src="#path images/BGDatabase/SupportedFields2.png"></a>
        </div>
    </li>
</ol>
<p>
    Enums with [Flags] attribute has special GUI, allowing to select multiple constants
</p>



<h4 id="unityassets">Unity Asset Fields (#6)</h4>
<div class="bg-image">
    <a href="#path images/BGDatabase/UnityAssets.png"><img style="width: 400px" src="#path images/BGDatabase/UnityAssets.png"></a>
</div>

<p>
    All these fields are read only.
    You can reference any Unity asset (UnityObject can be used to reference any asset).
</p>
<h6>Available loaders</h6>
<table class="contentTable">
    <tr>
        <th>
        </th>
        <th>
            Resources
        </th>
        <th>
            Asset Bundles (obsolete)
        </th>
        <th>
            Addressables
        </th>
        <th>
            Addressables by Guid
        </th>
    </tr>
    <tr>
        <td>Recommendations</td>
        <td>
            Use it only if an amount of assets is small.
            Unity does not recommend to use it (<a href="https://docs.unity3d.com/2019.2/Documentation/Manual/BestPracticeUnderstandingPerformanceInUnity6.html">more info</a>)
        </td>
        <td>
            not recommended under any circumstances
        </td>
        <td>
            use it if you want database to store asset's address
        </td>
        <td>
            use it if you want database to store asset's Guid.
        </td>
    </tr>
    <tr>
        <td>How asset is loaded</td>
        <td>
            using Resources.Load
        </td>
        <td>
            using AssetBundle.Load
        </td>
        <td colspan="2">
            using Addressables.LoadAssetAsync
        </td>
    </tr>
    <tr>
        <td>Prerequisites</td>
        <td>
            asset should be placed under one of Resources folder
        </td>
        <td>
            asset should be included to one of asset bundles
        </td>
        <td colspan="2">
            <ol>
                <li>Addressables package should be installed</li>
                <li>asset should be included to Addressables</li>
                <li>BGDatabase plugin for Addressables support should be installed</li>
            </ol>
        </td>
    </tr>
    <tr>
        <td>Stored value</td>
        <td>
            path, relative to Resources folder
        </td>
        <td>
            path within asset bundle
        </td>
        <td>
            asset address
        </td>
        <td>
            asset Guid
        </td>
    </tr>
    <tr>
        <td>Limitations after asset was added to database (otherwise you need to reassign the value)</td>
        <td>
            path/name can not be changed
        </td>
        <td>
            name can not be changed
        </td>
        <td>
            asset address can not be changed, but you can freely move/rename asset
        </td>
        <td>
            asset Guid can not be changed (it's stored in corresponding meta file), but you can freely move/rename asset
        </td>
    </tr>
    <tr>
        <td>More information</td>
        <td colspan="2">
            Read more about Resources folder and asset bundles <a href="https://docs.unity3d.com/Manual/LoadingResourcesatRuntime.html">here</a>
        </td>
        <td colspan="2">
            Read Unity's Addressables manual <a href="https://docs.unity3d.com/Packages/com.unity.addressables@1.5/manual/AddressableAssetsGettingStarted.html">here</a>.
            To add support for addressables, please, download our plugin and follow setup/use manual at our <a href="../Downloads#addressables">download page</a>
        </td>
    </tr>
</table>
<p>
    Third-party <a href="../Downloads/YooAsset">YooAsset</a> loader is also available as a plugin
</p>

<h6>Sprite field and complex assets</h6>
<p>
    Sprite and UnityObject fields support complex assets (when multiple assets are stored in one single file).
    Sprite field support spritesheets/atlases.
    UnityObject field should support other asset types (like FBX file etc.) if you assign correct "Asset Type" parameter while creating UnityObject field.
    "Asset Type" parameter accepts valid full C# class name (for example UnityEngine.Material)
</p>
<h6>Optional L2 cache</h6>
<p>
    Asset fields support optional additional cache on top of Unity API. If this cache is enabled Unity API is used to load the object for the first time
    and all subsequent reads use the cache to retrieve the object instead of using Unity API.
    To enable the cache use this code: BGAssetsCache.Enabled = true;
</p>


<h4 id="calculated">Calculated Fields (#7)</h4>
<p>
    Calculated fields store a graph, which is used for calculating result value.
    Graph is edited using <a href="../GraphEditor">graph editor</a>.
</p>
<p>
    Fields can have a default graph (edit via gears icon under "Configuration" tab) and a list of public variables
</p>
<div class="bg-image">
    <a href="#path images/BGDatabase/SupportedFields3.png"><img style="width: 400px" src="#path images/BGDatabase/SupportedFields3.png"></a>
</div>
<p>
    Each row can 1) override any public variable of default graph and 2) can have it's own graph.
    The alternative and more efficient way to overriding variables is to use database fields values instead.
    You can access the current row by using "Special/Get current entity" node.
</p>
<p>
    Action is a special calculated field, which does not return value, but can change database values.
    To invoke the action- use Invoke method on field value
</p>

<h4 id="programmable">Programmable Fields (#8)</h4>
<p>
    Programmable fields are alternatives to calculated fields, but calculation is implemented with C# code, rather than graph tool.
    Use these fields only if you want the calculation result to show up in the database GUI,
    otherwise you can add these fields by creating the partial class with the same name as the class,
    generated by <a href="../Addons/CodeGeneration">CodeGen addon</a> and adding additional properties/methods to it.
</p>
<p>
    To create programmable field you need to provide the name of C# class, implementing BGCodedFieldDelegateI&lt;type&gt; interface during field creation.
    This class will be used for value calculation
</p>
<details>
    <summary>Click to see C# example</summary>
    <pre class="nomargin"><code class="language-csharp">using BansheeGz.BGDatabase;

public class CalculateC : BGCodedFieldDelegateI&lt;int&gt;
{
    public int Get(BGCodedFieldContext context)
    {
        var entity = context.Entity;
        return entity.Get&lt;int&gt;("a") + entity.Get&lt;int&gt;("b"); // c = a + b
    }
}</code></pre>
</details>
<p>
    If you want to use events, implement BGCodedFieldDelegateLifeCycleI interface as well
</p>
<details>
    <summary>Click to see C# example</summary>
    <pre class="nomargin"><code class="language-csharp">public class CalculateC : BGCodedFieldDelegateI&lt;object&gt;, BGCodedFieldDelegateLifeCycleI
{
    private BGField myField;

    public object Get(BGCodedFieldContext context)
    {
        var entity = context.Entity;
        return entity.Get&lt;int&gt;("a") - entity.Get&lt;int&gt;("b");
    }

    //this method is called on delegate loading
    public void OnLoad(BGCodedFieldDelegateLifeCycleContext context)
    {
        //add event listeners
        myField = context.Field;
        var aField = context.Field.Meta.GetField("a");
        aField.ValueChanged += FieldValueChanged;
        var bField = context.Field.Meta.GetField("b");
        bField.ValueChanged += FieldValueChanged;
    }

    //this method is called on delegate unloading
    public void OnUnload(BGCodedFieldDelegateLifeCycleContext context)
    {
        //remove event listeners
        var aField = context.Field.Meta.GetField("a");
        aField.ValueChanged -= FieldValueChanged;
        var bField = context.Field.Meta.GetField("b");
        bField.ValueChanged -= FieldValueChanged;
    }

    //fire 'c' field value changed
    private void FieldValueChanged(object sender, BGEventArgsField e) =&gt; myField.FireValueChanged(e.Entity);
}</code></pre>
</details>

<h4 id="list">Collection values</h4>
<p>
    Collections fields may return the result (the list/hashtable) by reference or by value
</p>
<ol>
    <li> By reference means, that the value, stored inside database is returned. So changing collection values will actually change database value without setting a new value</li>
    <li> By value means, that the new collection is created when value is accessed and it can be modified without changing database value</li>
</ol>
<p>
    The current strategy is to return a collection by reference if it's possible, and to return the collection by value only if returning value by reference is not possible
    (to avoid GC and performance hit)
</p>
<table class="contentTable">
    <tr>
        <th>Field(s)</th>
        <th>Basic API</th>
        <th>CodeGen addon</th>
    </tr>
    <tr>
        <td>Lists with primitive values (List&lt;string&gt; etc.)</td>
        <td>by reference</td>
        <td>by reference</td>
    </tr>
    <tr>
        <td>Hashtable</td>
        <td>by reference</td>
        <td>by reference</td>
    </tr>
    <tr>
        <td>Multiple relational fields (Lists with rows values)</td>
        <td>by value</td>
        <td>by value</td>
    </tr>
    <tr>
        <td>Enum list</td>
        <td>by value</td>
        <td>by reference</td>
    </tr>
</table>

