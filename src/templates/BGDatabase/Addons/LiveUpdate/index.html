#set page=Live Update

<style>
    .llink {
        font-size: 12px;
        margin: 0;
    }
</style>

<h4>Description</h4>
<p>
    Live update let you update database data on player's devices using Google Sheets, using public GoogleSheets Json API.
</p>


<h4>Restrictions</h4>
<ol>
    <li>WebGl platform is not supported</li>
    <li>Do not use this addon to update critical data.
        There is a chance some users won't be able to download updates (due to network issues for example).</li>
    <li>API calls have usage limits. Read more details <a href="https://developers.google.com/sheets/api/limits">here</a>
        If you reach the limit, GoogleSheets will not return correct feed and LiveUpdate plugin will fail.
    </li>
    <li>
        Plugin uses formatted values, not raw value. If you use numeric fields, please, make sure formatted value for these fields
        are the same as raw values (you may need to change cells formatting)
    </li>
</ol>

<h4>How it works</h4>
<ol>
    <li>First time your game is launched and database is loaded, it'll try to read data from Google Sheets</li>
    <li>If step 1 is successful, every time database is loaded, it will be merged with data from Google Sheets, thus
        applying the update.
    </li>
    <li>If step 1 is unsuccessful, database data will remain intact.</li>
</ol>


<h4>Setting up</h4>
<ol>
    <li>
        Enable LiveUpdate plugin (under addons->LiveUpdate)
    </li>
    <li>
        Get <a href="https://developers.google.com/sheets/api/guides/authorizing#APIKey">"API key"</a> from Google. Assign it to <b>API key</b> LiveUpdate addon parameter
    </li>
    <li>
        Get <a href="https://developers.google.com/sheets/api/guides/concepts#spreadsheet_id">Spreadsheet Id</a> from Google. Assign it to <b>Spreadsheet Id</b> LiveUpdate addon parameter
    </li>
    <li>
        Make sure to share target spreadsheet. Open target spreadsheet, click on Share button on the top right and set access level to "public" or "people with link".
        Otherwise you will get 403 error from GoogleSheets
    </li>
</ol>

<h4>Checking if setup was correct</h4>
<div>
    You can check if you set up config properly by accessing this address from your browser (make sure it returns valid json, not some error )
    <p class="llink">
        https://sheets.googleapis.com/v4/spreadsheets/[Your Spreadsheet Id]/values/[Name of one of your metas]?key=[Your API key]
    </p>

</div>
<div>
    For example, for the following parameters
    <ol>
        <li>
            SpreadsheetId=MYko0fxH01GIJcBq41YAT9eFpU6Znm5I5RByHsJpupHZ
        </li>
        <li>
            ApiKey=RYIzaSyB0xsc_BoOBNRHfhW9xpCx1t03a-gV6qc
        </li>
        <li>
            Meta=Items
        </li>
    </ol>
        the correct URL would be:
    <p class="llink">
        https://sheets.googleapis.com/v4/spreadsheets/<b>MYko0fxH01GIJcBq41YAT9eFpU6Znm5I5RByHsJpupHZ</b>/values/<b>Items</b>?key=<b>RYIzaSyB0xsc_BoOBNRHfhW9xpCx1t03a-gV6qc</b>
    </p>
    This is not a working example, it's just an example how to substitute parameters.
</div>

<h4>Parameters</h4>
<table class="contentTable">
    <tr>
        <th>
            Parameter name
        </th>
        <th>
            Description
        </th>
    </tr>
    <tr>
        <td>Spreadsheet Id</td>
        <td>
            Id of your spreadsheet. Learn how to obtain it <a
                href="https://developers.google.com/sheets/api/guides/concepts#spreadsheet_id">here</a>
        </td>
    </tr>
    <tr>
        <td>API key</td>
        <td>
            API key to use for request. Learn how to create it <a
                href="https://developers.google.com/sheets/api/guides/authorizing#APIKey">here</a>
        </td>
    </tr>
    <tr>
        <td>Timeout</td>
        <td>
            Timeout for connection. Value (in seconds) is between 1-30, default is 5
        </td>
    </tr>
    <tr>
        <td>Manual Load</td>
        <td>
            Set it to true if you do not want this addon to be executed automatically.
            In this case, you will need to manually trigger the loading by calling
            <pre>
BGRepo.I.Addons.Get&lt;BGAddonLiveUpdate&gt;().Load(true);
</pre>
        </td>
    </tr>
    <tr>
        <td>In Builds Only</td>
        <td>
            Setting this to true will disable addon if your game is run in Editor. It will work in builds only.
            It is recommended to set it to true as soon as you are sure the addon works correctly.
        </td>
    </tr>
    <tr>
        <td>Merge Settings</td>
        <td>
            The same merge settings you use for Export/Import or Saving/Loading. Learn more about merge settings <a
                href="../../ExportImport#mergeSettings">here</a>
        </td>
    </tr>
</table>