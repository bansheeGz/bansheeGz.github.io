#set page=Merge Tools
#set _skipTemplate=true

<style>
    .green {
        background-color: #eefadd !important;
    }

    .red {
        background-color: #f8d2dc !important;
    }
</style>

<h4>Description</h4>

<p>
    Merge tools let you overview and apply changes from one database to another.
    Currently, there are 2 different tools- 2-way and 3-way merging, read detailed guides below for more information
</p>

<h4>Unity Version Control (Plastic SCM) integration</h4>
<p>
    Currently, we provide integration with Unity Version Control (Plastic SCM), read <a href="PlasticSCM">detailed guide</a>
</p>

<h5>Restrictions</h5>
<p>
    If you use <a href="../../BGLocalization">localization</a> or <a href="../Addons/Partition">partition</a> addons,
    make sure only one person in your team enable/disable these add-ons and adding new locales
</p>

<h4>2-Way merge vs 3-Way merge</h4>
<table class="contentTable">
    <tr>
        <th></th>
        <th>2-way</th>
        <th>3-way</th>
    </tr>
    <tr>
        <td>Number of databases</td>
        <td>2</td>
        <td>3</td>
    </tr>
    <tr>
        <td>Auto-merging</td>
        <td class="red">No</td>
        <td class="green">Yes</td>
    </tr>
    <tr>
        <td>Special requirements</td>
        <td class="green">None</td>
        <td class="red">
            <ol>
                <li>Databases #1 and #2 both should originate from database #0</li>
                <li>Databases #1 should be a direct child of database #0</li>
            </ol>
        </td>
    </tr>
    <tr>
        <td>Suited for</td>
        <td>Any scenario</td>
        <td>Multi-user environment with Version Control system</td>
    </tr>
    <tr>
        <td>Guides</td>
        <td><a href="2Way">2-Way merge guide</a></td>
        <td><a href="3Way">3-Way merge guide</a></td>
    </tr>
</table>


<h4>Alternative workflow for merging data #1</h4>
<p>
    Starting with version 1.8.9 you can save database in <a href="../Addons/Settings"> JSON format</a> and use text-based merge tool
</p>

<h4>Alternative workflow for merging data #2</h4>
<p>
    If you can split tables between developers, so each developer modify his own set of tables, you can use <a href="../Addons/Partition/Vertical">partitioning addon</a>
    with vertical data splitting.
</p>

<h4>Alternative workflow for merging data #3</h4>
<details>
    <summary>Deprecated in favor of option #1 (click to see archive)</summary>
    <p>
        You can also use JSON-based approach to merge database data
    </p>
    <ol>
        <li>Create two JSON data sources under "Export/Import" tab, pointing to two different JSON files (let's say "Local" and "Remote")
            <div class="bg-image">
                <a href="#path images/BGDatabase/MergeTool3.png"><img style="width: 400px" src="#path images/BGDatabase/MergeTool3.png"></a>
            </div>
        </li>
        <li>
            Create two corresponding jobs
            <div class="bg-image">
                <a href="#path images/BGDatabase/MergeTool4.png"><img style="width: 400px" src="#path images/BGDatabase/MergeTool4.png"></a>
            </div>
        </li>
        <li>Once you noticed a merge conflict- export database data using "Local" data source</li>
        <li>Resolve a conflict by replacing your local database file with the file from source control system and reload database</li>
        <li>Export database data using "Remote" data source</li>
        <li>Merge the difference from your "local" JSON file into "remote" JSON file using text merging program
            <div class="bg-image">
                <a href="#path images/BGDatabase/MergeTool5.png"><img style="width: 400px" src="#path images/BGDatabase/MergeTool5.png"></a>
            </div>
        </li>
        <li>Import database data from "remote" JSON file.</li>
        <li>If something went wrong - rollback the changes (by fetching database file from source control and reloading database) and repeat steps 5-7</li>
    </ol>

</details>

<h4>Alternative workflow for merging data #4</h4>
<p>
    Also, another option for multi-user environment setup is to use <a href="../ThirdParty/GoogleSheets">Google Sheets</a> spreadsheet data as primary source of data.
</p>
