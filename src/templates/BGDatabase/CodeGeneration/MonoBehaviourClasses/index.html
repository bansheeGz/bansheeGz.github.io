#set page=Code Generation (MonoBehaviour classes)

<!--<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=cs&amp;skin=desert"></script>-->

<h4>Description</h4>
<p>
    Main purpose of these classes- is to be added as components to GameObjects, thus hooking these GameObjects to table's rows.
</p>

<p>
    These classes are Unity standard components and can be added to any GameObject in the Inspector.
    After you added one of such classes to GameObject, you can chose which row should be connected,
    the correct table(meta) will be automatically selected
</p>
<div class="bg-image">
    <a href="#path images/BGDatabase/CodeGenMonoBehaviour1.png"><img style="width: 400px" src="#path images/BGDatabase/CodeGenMonoBehaviour1.png"></a>
</div>


<h4>Difference from BGEntityGo</h4>
<p>
    Without these classes you would use generic BGEntityGo component to hook up GameObject to database.
</p>
<p>
    So, what is the difference between BGEntityGo and generated class?
</p>
<ol>
    <li>You don't have to chose meta- it'll be automatically chosen</li>
    <li>Instead of using basic API for accessing fields like this: <code>var intValue = Get&lt;int&gt;("intField");</code>
        you have additional property generated for each field, so you can use code like this <code>var intValue = intField;</code> </li>
    <li>Additionally, you can chose to use classes, generated by ExtensionClasses generator, so you can easily navigate by relational fields.
        More information about it below.
    </li>
</ol>

<h4 id="explanation">Using classes, generated by ExtensionClasses</h4>
<p>
    Question: why bother to use those classes? Answer: because of relational fields.
</p>
<p>
    There are 3 fields in BGDatabase, that are relations (relationSingle,relationMultiple and nested).
    As a value they return the reference(s) to another row(s) (BGEntity).
</p>
<p>
    Here is the simple example: Table1 has a relationSingle field called Relation, that points to a row from Table2.
</p>
<div class="bg-image">
    <a href="#path images/BGDatabase/CodeGenMonoBehaviour2.png"><img style="width: 400px" src="#path images/BGDatabase/CodeGenMonoBehaviour2.png"></a>
</div>
<p>
    Without using ExtensionClasses you can access Relation field value with such code
</p>
<pre class="cs">
    BGEntity t2Value = t1.Relation;
</pre>
<p>
    So, if t1 - is first row of Table1, t2Value will be a first row of Table2, However it's type - is basic type: BGEntity.
    So you can access Table2.intField only with basic API like so: <code>t2Value.Get&lt;int&gt;("intField")</code>
</p>
<p>
    That is certainly not what we want. So using ExtensionClasses makes relational value to be casted to be the type, generated by ExtensionClasses
    , e.g.
</p>
<pre class="cs">
    Table2 t2Value = t1.Relation;
    var intValue = t2Value.intField;
</pre>

<h4>How to enable/disable</h4>
<p>
    1) Open BGDatabase window from Unity menu <code>Window->BGDatabase</code>
</p>
<p>
    2) Chose <code>Settings->CodeGen</code>
</p>
<div class="bg-image">
    <a href="#path images/BGDatabase/CodeGenMonoBehaviour3.png"><img style="width: 400px"
                                                                        src="#path images/BGDatabase/CodeGenMonoBehaviour3.png"></a>
</div>
<p>
    3) Toggle enabled on and fill all parameters:
</p>
<ol>
    <li>Code Generator - leave it as it is</li>
    <li>Source file - all generated classes will use one single .cs file. You can place it anywhere in your project, but not under Editor folder</li>
    <li>Package - package (namespace) for you classes.</li>
    <li>Classes names prefix - prefix for your classes names. For example you can use prefix like D_ to distinct your database classes from the rest of the project classes</li>
    <li>Field names prefix - the same as classes names prefix, but for fields.</li>
    <li>Use Addons classes - Use classes, generated by <a href="../ExtensionClasses">ExtensionClasses</a> generator.
        This is highly recommended to enable this generator and use those classes, the explanation why is : <a href="#explanation">Using classes, generated by ExtensionClasses</a></li>
</ol>
<p>
    After you fill all parameters, press <code>Generate</code> button to generate classes.
</p>
<div class="importantNote">
    Note, you should regenerate these classes after each change to database structure (e.g. if you add/remove tables or fields, or changing their names)
</div>



