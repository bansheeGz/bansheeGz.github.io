#set page=Unity Visual Scripting (ex-Bolt)

<h4>Description</h4>
<p>
    Code Generator for
    <a href="https://docs.unity3d.com/2021.1/Documentation/Manual/com.unity.visualscripting.html">Unity Visual Scripting</a>
    (ex-<a href="https://assetstore.unity.com/packages/tools/visual-scripting/bolt-163802">Bolt</a>) creates custom Units to manage BGDatabase data.
</p>
<p> All fields are supported (Unity asset fields are readonly, <a href="../../SupportedFields">more info</a>).
</p>
<p>
    "Unity Visual Scripting" package is available for Unity version >= 2021 via Package manager (installed by default),
    Bolt is available for Unity 2018-2020 via Asset Store.
</p>

<h4>List of generated units</h4>
With custom units you have full control over database data- you can select/add/update/delete rows.
Custom units are generated for each table
<table class="contentTable">
    <tr>
        <th>
            #
        </th>
        <th>
            Unit
        </th>
        <th>
            Description
        </th>
    </tr>
    <tr>
        <td>1</td>
        <td>GetByIndex</td>
        <td>
            Retrieve field values from database by row's index. This is the best method to use inside for-each loop
        </td>
    </tr>
    <tr>
        <td>2</td>
        <td>GetById</td>
        <td>
            Retrieve field values from database by row's id.
        </td>
    </tr>
    <tr>
        <td>3</td>
        <td>GetByName</td>
        <td>
            Retrieve field values from database by row's name.
        </td>
    </tr>
    <tr>
        <td>4</td>
        <td>SetByIndex</td>
        <td>
            Set field values to database by row's index.
        </td>
    </tr>
    <tr>
        <td>5</td>
        <td>SetById</td>
        <td>
            Set field values to database by row's id.
        </td>
    </tr>
    <tr>
        <td>6</td>
        <td>SetByName</td>
        <td>
            Set field values to database by row's name.
        </td>
    </tr>
    <tr>
        <td>7</td>
        <td>Count</td>
        <td>
            Retrieve total number of rows
        </td>
    </tr>
    <tr>
        <td>8</td>
        <td>Create</td>
        <td>
            Create a new row
        </td>
    </tr>
    <tr>
        <td>9</td>
        <td>Delete</td>
        <td>
            Delete a row by its index
        </td>
    </tr>
</table>

<div>
    <h4>How to generate</h4>
    <ul>
        <li>Open BGDatabase window <code>Window->BGDatabase</code></li>
        <li>Select <code>Settings</code> tab, and chose <code>Visual Scripting (ex-Bolt)</code></li>
        <li>Fill in <a href="#parameters">parameters</a> and press <code>Generate</code> button</li>
        <li>After units was generated, you may need to update units database.
            If you use Visual Scripting, select Edit->Project Settings->Visual Scripting->Regenerate Units.
            If you use Bolt, select Tools->Bolt->Build Unit Options
        </li>
    </ul>

    <div class="bg-image">
        <a href="#path images/BGDatabase/Bolt1.png"><img style="width: 400px" src="#path images/BGDatabase/Bolt1.png"></a>
    </div>
    <div class="importantNote">
        Once you chose your naming scheme <b>package</b> + <b>Classes name prefix</b>/<b>Field name prefix</b>
        and used your generated units in Bolt's graphs, you should not change these settings,
        otherwise the references to these units will be lost. The same applies to tables/fields names.
    </div>
</div>

<h4 id="parameters">Parameters</h4>
<table class="contentTable">
    <tr>
        <th>
            Parameter name
        </th>
        <th>
            Description
        </th>
    </tr>
    <tr>
        <td>Code Generator</td>
        <td>Class to use for code generation (use default one)</td>
    </tr>
    <tr>
        <td>Source file</td>
        <td>Source file to use for generated C# classes (units). All classes will be put into one single .cs file, which should be under your project folder </td>
    </tr>
    <tr>
        <td>Package</td>
        <td>Package (C# namespace) for generated classes. For example <code>MySpace</code>. You can safely leave this setting blank.</td>
    </tr>
    <tr>
        <td>Class names prefix</td>
        <td>
            Prefix to use for each class name.
            So if you use <code>B_</code> prefix, the final class for <code>MyTable</code> table and <code>GetById</code> unit will be named <code>B_MyTableGetById</code>.
            We have multiple code generators, so using different prefixes for different code generators helps to differentiate generated classes and avoid naming collisions
        </td>
    </tr>
    <tr>
        <td>Field names prefix</td>
        <td>Prefix to use for each generated property name. So if you use <code>f_</code> prefix, the final name for <code>intField</code> field will be <code>f_intField</code>.
            You can safely leave this setting blank.
        </td>
    </tr>
    <tr>
        <td>Target platform</td>
        <td>The choice between "Unity Visual Scripting" or "Bolt"
        </td>
    </tr>
</table>
<div class="bg-image">
    <a href="#path images/BGDatabase/Bolt3.png"><img style="width: 400px" src="#path images/BGDatabase/Bolt3.png"></a>
</div>

<div>
    <h4>Difference between getters and setters</h4>
    <ol>
        <li>Getters are not included into control flow: you can not include them. Values are fetched when requested.</li>
        <li>On the other hand, setters are required to be included into control flow, otherwise they will not be executed</li>
    </ol>
    <div class="bg-image">
        <a href="#path images/BGDatabase/Bolt2.png"><img style="width: 400px" src="#path images/BGDatabase/Bolt2.png"></a>
    </div>
    <br>
    <br>
</div>

<div>
    <h4>Bolt to VisualScripting package migration guide</h4>
    <p>
        This guide is for database units/plugins <b>only</b>
    </p>
    <ol>
        <li>Re-generate units with VisualScripting platform as a target.<br/>
            Alternatively, open C# file with generated units for Bolt in your text editor and replace the following lines:
<pre class="nomargin"><code class="language-csharp">using Bolt;
using Ludiq;
</code></pre>
            with this line:
<pre class="nomargin"><code class="language-csharp">using Unity.VisualScripting;</code></pre>
            Save the file.
        </li>
        <li>If you use any additional Bolt plugins, download and import their VisualScripting versions from <a href="../../Downloads">download</a> page</li>
    </ol>
</div>

<div>
    <h4>Additional downloads</h4>
    <ol>
        <li>Custom unit to support <a href="../../Addons/SaveLoad">SaveLoad addon</a> is available for free download  <a href="../../Downloads/RuntimeSaveLoadBolt">here</a></li>
        <li>Custom unit to support unity assets loading from Addressables system is available for download <a href="../../Downloads/RuntimeAddressablesBolt">here</a> </li>
        <li>Alternative (generic) units for accessing database: <a href="../../Downloads/RuntimeBoltGenericUnits">link</a> </li>
    </ol>
</div>