#set page=Playmaker

<h4>Description</h4>
<p>
Code Generator for <a href="https://assetstore.unity.com/packages/tools/visual-scripting/playmaker-368">Playmaker</a> creates custom Actions to access BGDatabase data (many fields are supported, but not all the fields)
</p>
<p>
    Apart from Code Generation, you can use Playmaker's <code>GetProperty</code> and <code>SetProperty</code> actions
    with Generated <a href="../../CodeGeneration/MonoBehaviourClasses">MonoBehaviour</a> to get/set any property
    from GameObject, hooked up to database.
</p>

<h4>Supported custom actions</h4>
With custom actions you have full control over database data- you can select/add/update/delete rows.
Custom actions are generated for each table
<table class="contentTable">
    <tr>
        <th>
            #
        </th>
        <th>
            Action
        </th>
        <th>
            Description
        </th>
    </tr>
    <tr>
        <td>1</td>
        <td>GetByIndex</td>
        <td>
            Retrieve field values from database by row's index. This is the best method to use inside for-each loop
        </td>
    </tr>
    <tr>
        <td>2</td>
        <td>GetById</td>
        <td>
            Retrieve field values from database by row's id.
        </td>
    </tr>
    <tr>
        <td>3</td>
        <td>GetByName</td>
        <td>
            Retrieve field values from database by row's name.
        </td>
    </tr>
    <tr>
        <td>4</td>
        <td>SetByIndex</td>
        <td>
            Set field values to database by row's index.
        </td>
    </tr>
    <tr>
        <td>5</td>
        <td>SetById</td>
        <td>
            Set field values to database by row's id.
        </td>
    </tr>
    <tr>
        <td>6</td>
        <td>SetByName</td>
        <td>
            Set field values to database by row's name.
        </td>
    </tr>
    <tr>
        <td>7</td>
        <td>Count</td>
        <td>
            Retrieve total number of rows
        </td>
    </tr>
    <tr>
        <td>8</td>
        <td>Create</td>
        <td>
            Create a new row
        </td>
    </tr>
    <tr>
        <td>9</td>
        <td>Delete</td>
        <td>
            Delete a row by its index
        </td>
    </tr>
</table>

<h4>Supported fields</h4>
<table class="contentTable">
    <tr>
        <th>
            Database Field
        </th>
        <th>
            Playmaker Field
        </th>
        <th>
            Comments
        </th>
    </tr>
    <tr>
        <td>int</td>
        <td>FsmInt</td>
        <td></td>
    </tr>
    <tr>
        <td>float</td>
        <td>FsmFloat</td>
        <td></td>
    </tr>
    <tr>
        <td>bool</td>
        <td>FsmBool</td>
        <td></td>
    </tr>
    <tr>
        <td>string</td>
        <td>FsmString</td>
        <td></td>
    </tr>
    <tr>
        <td>color</td>
        <td>FsmColor</td>
        <td></td>
    </tr>
    <tr>
        <td>rect</td>
        <td>FsmRect</td>
        <td></td>
    </tr>
    <tr>
        <td>vector2</td>
        <td>FsmVector2</td>
        <td></td>
    </tr>
    <tr>
        <td>vector3</td>
        <td>FsmVector3</td>
        <td></td>
    </tr>
    <tr>
        <td>quaternion</td>
        <td>FsmQuaternion</td>
        <td></td>
    </tr>
    <tr>
        <td>relationSingle</td>
        <td>FsmInt</td>
        <td>Playmakers int field stores the index of related row, or -1 if field is not set</td>
    </tr>
    <tr>
        <td>relationMultiple</td>
        <td>FsmArray[int]</td>
        <td>Playmakers int array field stores the related rows array of indices</td>
    </tr>
    <tr>
        <td>nested</td>
        <td>FsmArray[int]</td>
        <td>Just like relationMultiple, but read only</td>
    </tr>
    <tr>
        <td>GameObject</td>
        <td>FsmGameObject</td>
        <td>Prefab asset, field is readonly</td>
    </tr>
    <tr>
        <td>Object</td>
        <td>FsmObject</td>
        <td>Any Unity asset, field is readonly</td>
    </tr>
    <tr>
        <td>Material</td>
        <td>FsmMaterial</td>
        <td>Unity material asset, field is readonly</td>
    </tr>
    <tr>
        <td>Texture</td>
        <td>FsmTexture</td>
        <td>Unity texture asset, field is readonly</td>
    </tr>
    <tr>
        <td>AudioClip</td>
        <td>FsmObject</td>
        <td>Unity audio asset, field is readonly</td>
    </tr>
    <tr>
        <td>Font</td>
        <td>FsmObject</td>
        <td>Unity font asset, field is readonly</td>
    </tr>
    <tr>
        <td>Texture2D</td>
        <td>FsmObject</td>
        <td>Unity texture2D asset, field is readonly</td>
    </tr>
    <tr>
        <td>Sprite</td>
        <td>FsmObject</td>
        <td>Unity sprite asset, field is readonly</td>
    </tr>
    <tr>
        <td>Sprite[]</td>
        <td>FsmArray</td>
        <td>Unity sprite array asset, field is readonly</td>
    </tr>
</table>
<p>
    If field type is not supported, it will be omitted
</p>


<div>
    <h4>How to generate</h4>
    <p>
        Open BGDatabase window <code>Window->BGDatabase</code>
    </p>
    <p>
        Go to <code>Settings</code> tab, and chose <code>Playmaker</code>
    </p>
    <div class="bg-image">
        <a href="#path images/BGDatabase/Playmaker1.png"><img style="width: 400px" src="#path images/BGDatabase/Playmaker1.png"></a>
    </div>
    <p>
        Fill parameters and press <code>Generate</code> button
    </p>

    <div class="importantNote">
        Once you chose your naming scheme "package" + "Classes name prefix" and used your generated actions in Bolt's graphs, please, do not change these settings,
        otherwise the references to these action will be lost. The same applies to tables/fields names.
    </div>
</div>


<h4>Example</h4>
<table class="contentTable">
    <tr>
        <th>
            Link
        </th>
        <th>
            Description
        </th>
    </tr>
    <tr>
        <td><a href="BGDatabasePlaymakerMin.cs">BGDatabasePlaymakerMin.cs</a></td>
        <td>
            Minimalistic example with single table and single name field
        </td>
    </tr>
    <tr>
        <td><a href="BGDatabasePlaymakerMax.cs">BGDatabasePlaymakerMax.cs</a></td>
        <td>
            Single table with all supported fields.
        </td>
    </tr>
</table>
