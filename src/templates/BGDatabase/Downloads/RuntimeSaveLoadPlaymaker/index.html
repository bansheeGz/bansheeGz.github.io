#set page=Downloads
#set subPage=Save/Load actions for Playmaker


<div class="bg-main-contacts">

    <div class="bg-main-contacts_grid mdl-grid">
        <div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-tablet mdl-cell--2-col-phone">
            Version:
        </div>
        <div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-tablet mdl-cell--2-col-phone">
            1.3
        </div>
        <div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-tablet mdl-cell--2-col-phone">
            Format:
        </div>
        <div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-tablet mdl-cell--2-col-phone">
            Unity package
        </div>
        <div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-tablet mdl-cell--2-col-phone">
            Dependencies:
        </div>
        <div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-tablet mdl-cell--2-col-phone">
            BGDatabase, Playmaker
        </div>
        <div class="mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--4-col-phone bg-desc">
            <a href="../BGDatabaseSaveLoadPlaymaker_1.3.unitypackage" class="downloadButton"></a>
        </div>
        <div class="mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--4-col-phone bg-desc">
            <div class="bg-image">
                <a href="#path images/BGDatabase/download8.png">
                    <img style="width: 100%" src="#path images/BGDatabase/download8.png">
                </a>
            </div>
        </div>

    </div>
</div>


<h4>Description</h4>
<p>
    Save/Load actions for <a href="../../ThirdParty/Playmaker">Playmaker</a>
    to support <a href="../../Addons/SaveLoad">SaveLoad addon</a>.
    Actions allow you to save/load game to/from file(s), located in the
    <a href="https://docs.unity3d.com/ScriptReference/Application-persistentDataPath.html">Unity's persistent folder</a>.
    WebGl platform requires <a href="#webGl">special setup</a>
</p>

<h4>Available actions:</h4>
<ol>
    <li>SaveGame: save a game to a file.</li>
    <li>LoadGame: load a game from a file.</li>
    <li>ListSaves: load all file names to string array (without path and extension)</li>
    <li>DeleteSave: delete saved file.</li>
</ol>

<h4>Additional information:</h4>
<ol>
    <li>All files have ".sav" extension.</li>
    <li>SaveGame/LoadGame/DeleteSave have optional <i>fileName</i> parameter (default is "game").
        <i>fileName</i> parameter format is a file name without path and extension.
    </li>
    <li>All actions have "debug" parameter- if it's turned on, information about files is printed to Unity console.</li>
</ol>

<h4 id="webGl">WebGl platform:</h4>
<p>
    WebGl player does not have access to physical disk and uses <a href="https://en.wikipedia.org/wiki/Indexed_Database_API">IndexedDB</a>
    database instead, so it requires special actions.
    We used <a href="https://3p0ch.newgrounds.com/news/post/1086279">this guide</a> to implement them.
</p>
<p>
    WebGl platform setup guide:
</p>
<ol>
    <li>
        Download actions for WebGl <a href="../BGDatabaseSaveLoadWebGlPlaymaker.unitypackage">here</a>
    </li>
    <li>Use BGSaveGameWebGl to save a game, BGLoadGameWebGl to load a game and BGDeleteGameWebGl to delete the saved file
        This actions will work only in WebGl builds.
        They will not work on any other platforms (including Unity Editor)
    </li>
    <li>
        All 3 actions have GameName and SaveName parameters.
        You need to choose it only once and stick to it.
        If you change them afterward - save files will not be found
        They will be used as file path for IndexedDB database (which is used on WebGL platform instead of file system)
        Use only latin letters for maximum compatibility
        So if you choose "MySuperGame" as GameName and "MySave" as SaveName the final save file path will be /idbfs/MySuperGame/MySave.dat
        You need to make sure all actions use the same names
    </li>
    <li>
        Use "debug" parameter to print debug information to browser console
    </li>
    <li>
        There is an additional file, which is required to flush the IndexedDB database cache to the disk, otherwise saved data may be lost.
        This file is located under plugins folder (BGDatabaseFsSync.jslib). Do not remove it
    </li>
</ol>

<h4>EasySave</h4>
<p>
    You can use <a href="https://assetstore.unity.com/packages/tools/utilities/easy-save-the-complete-save-data-serializer-system-768">Easy Save</a> (or similar) assets  to save database data.
    Here is the custom actions for saving/loading database data locally (under persistent data folder) with EasySave: <a href="../BGDatabasePlaymakerEasySave.unitypackage">download</a>
</p>

<h4>Releases</h4>
<details>
    <summary>Click to see all releases</summary>

    <table class="contentTable dTable">
        <tr>
            <th style="width: 10%">
                Version
            </th>
            <th style="width: 20%">
                Release date
            </th>
            <th style="width: 70%">Log</th>
        </tr>
        <tr>
            <td class="ra">
                1.3
            </td>
            <td class="ra">Jun 02, 2024</td>
            <td>
            </td>
        </tr>
        <tr>
            <td class="ra">
                1.2
            </td>
            <td class="ra">Oct 23, 2021</td>
            <td>
                FIXED: ListSaves does not return the actual file list
            </td>
        </tr>
        <tr>
            <td class="ra">
                1.1
            </td>
            <td class="ra">July 19, 2021</td>
            <td>
                ADDED: Resize table and reload database actions
            </td>
        </tr>
        <tr>
            <td class="ra">
                1.0
            </td>
            <td class="ra">Sep 16, 2020</td>
            <td>
                Versioning reset (unified plugin infrastructure)
            </td>
        </tr>
        <tr>
            <td class="ra">
                0.1.0
            </td>
            <td class="ra">August 05, 2019</td>
            <td>
                Initial release
            </td>
        </tr>
    </table>
</details>